"use strict";(self.webpackChunk_am5=self.webpackChunk_am5||[]).push([[6450],{6515:function(t,e,i){i.d(e,{R:function(){return u}});var s=i(9361),a=i(8777),n=i(6245),r=i(7144),o=i(7142),l=i(5071),h=i(5040),g=i(7652);class u extends s.w{constructor(){super(...arguments),Object.defineProperty(this,"_series",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_isPanning",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"minorDataItems",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"labelsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(a.W.new(this._root,{}))}),Object.defineProperty(this,"gridContainer",{enumerable:!0,configurable:!0,writable:!0,value:a.W.new(this._root,{width:n.AQ,height:n.AQ})}),Object.defineProperty(this,"topGridContainer",{enumerable:!0,configurable:!0,writable:!0,value:a.W.new(this._root,{width:n.AQ,height:n.AQ})}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(a.W.new(this._root,{isMeasured:!1,width:n.AQ,height:n.AQ,position:"absolute"}))}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rangesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_panStart",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_panEnd",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_sAnimation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_eAnimation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_skipSync",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"axisRanges",{enumerable:!0,configurable:!0,writable:!0,value:new r.aV}),Object.defineProperty(this,"_seriesAxisRanges",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"ghostLabel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_cursorPosition",{enumerable:!0,configurable:!0,writable:!0,value:-1}),Object.defineProperty(this,"_snapToSeries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_seriesValuesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_seriesAdded",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"axisHeader",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(a.W.new(this._root,{themeTags:["axis","header"],position:"absolute",background:o.A.new(this._root,{themeTags:["header","background"],fill:this._root.interfaceColors.get("background")})}))}),Object.defineProperty(this,"_bullets",{enumerable:!0,configurable:!0,writable:!0,value:{}})}_dispose(){this.gridContainer.dispose(),this.topGridContainer.dispose(),this.bulletsContainer.dispose(),this.labelsContainer.dispose(),this.axisHeader.dispose(),super._dispose()}_afterNew(){super._afterNew(),this.setPrivate("updateScrollbar",!0),this._disposers.push(this.axisRanges.events.onAll((t=>{if("clear"===t.type)l.each(t.oldValues,(t=>{t.dispose()}));else if("push"===t.type)this._processAxisRange(t.newValue,["range"]);else if("setIndex"===t.type)this._processAxisRange(t.newValue,["range"]);else if("insertIndex"===t.type)this._processAxisRange(t.newValue,["range"]);else if("removeIndex"===t.type)this.disposeDataItem(t.oldValue);else{if("moveIndex"!==t.type)throw new Error("Unknown IStreamEvent type");this._processAxisRange(t.value,["range"])}})));const t=this.get("renderer");t&&(t.axis=this,t.processAxis()),this.children.push(t),this.ghostLabel=t.makeLabel(new s.z(this,void 0,{}),[]),this.ghostLabel.adapters.disable("text"),this.ghostLabel.setAll({opacity:0,tooltipText:void 0,tooltipHTML:void 0,interactive:!1}),this.ghostLabel.events.disable()}_updateFinals(t,e){}zoom(t,e,i,s){if(this.get("zoomable",!0))if(this._updateFinals(t,e),this.get("start")!==t||this.get("end")!=e){let a=this._sAnimation,n=this._eAnimation,r=this.get("maxDeviation",.5)*Math.min(1,e-t);t<-r&&(t=-r),e>1+r&&(e=1+r),t>e&&([t,e]=[e,t]),h.isNumber(i)||(i=this.get("interpolationDuration",0)),s||(s="end");let o=this.getPrivate("maxZoomFactor",this.get("maxZoomFactor",100)),l=o;1===e&&0!==t&&(s=t<this.get("start",0)?"start":"end"),0===t&&1!==e&&(s=e>this.get("end",1)?"end":"start");let g=this.get("minZoomCount",0),u=this.get("maxZoomCount",1/0);h.isNumber(g)&&(o=l/g);let c=1;if(h.isNumber(u)&&(c=l/u),"start"===s?(u>0&&1/(e-t)<c&&(e=t+1/c),1/(e-t)>o&&(e=t+1/o),e>1&&e-t<1/o&&(t=e-1/o)):(u>0&&1/(e-t)<c&&(t=e-1/c),1/(e-t)>o&&(t=e-1/o),t<0&&e-t<1/o&&(e=t+1/o)),1/(e-t)>o&&(e=t+1/o),1/(e-t)>o&&(t=e-1/o),null!=u&&null!=g&&t==this.get("start")&&e==this.get("end")){const t=this.chart;t&&t._handleAxisSelection(this,!0)}if((a&&a.playing&&a.to==t||this.get("start")==t)&&(n&&n.playing&&n.to==e||this.get("end")==e))return;if(i>0){let s,a,n=this.get("interpolationEasing");if(this.get("start")!=t&&(s=this.animate({key:"start",to:t,duration:i,easing:n})),this.get("end")!=e&&(a=this.animate({key:"end",to:e,duration:i,easing:n})),this._sAnimation=s,this._eAnimation=a,s)return s;if(a)return a}else this.set("start",t),this.set("end",e)}else this._sAnimation&&this._sAnimation.stop(),this._eAnimation&&this._eAnimation.stop()}get series(){return this._series}_processAxisRange(t,e){t.setRaw("isRange",!0),this._createAssets(t,e),this._rangesDirty=!0,this._prepareDataItem(t);const i=t.get("above"),s=this.topGridContainer,a=t.get("grid");i&&a&&s.children.moveValue(a);const n=t.get("axisFill");i&&n&&s.children.moveValue(n)}_prepareDataItem(t,e){}markDirtyExtremes(){}markDirtySelectionExtremes(){}_calculateTotals(){}_updateAxisRanges(){this._bullets={},this.axisRanges.each((t=>{this._prepareDataItem(t)})),l.each(this._seriesAxisRanges,(t=>{this._prepareDataItem(t)}))}_prepareChildren(){if(super._prepareChildren(),this.get("fixAxisSize")?this.ghostLabel.set("visible",!0):this.ghostLabel.set("visible",!1),this.isDirty("start")||this.isDirty("end")){const t=this.chart;t&&t._updateCursor();let e=this.get("start",0),i=this.get("end",1),s=this.get("maxDeviation",.5)*Math.min(1,i-e);if(e<-s){let t=e+s;e=-s,this.setRaw("start",e),this.isDirty("end")&&this.setRaw("end",i-t)}if(i>1+s){let t=i-1-s;i=1+s,this.setRaw("end",i),this.isDirty("start")&&this.setRaw("start",e-t)}}const t=this.get("renderer");if(t._start=this.get("start"),t._end=this.get("end"),t._inversed=t.get("inversed",!1),t._axisLength=t.axisLength()/(t._end-t._start),t._updateLC(),this.isDirty("tooltip")){const e=this.get("tooltip");if(e){const i=t.get("themeTags");e.addTag("axis"),e.addTag(this.className.toLowerCase()),e._applyThemes(),i&&(e.set("themeTags",g.mergeTags(e.get("themeTags"),i)),e.label._applyThemes())}}}_updateTooltipBounds(){const t=this.get("tooltip");t&&this.get("renderer").updateTooltipBounds(t)}_updateBounds(){super._updateBounds(),this._updateTooltipBounds()}processChart(t){this.chart=t,this.get("renderer").chart=t,t.gridContainer.children.push(this.gridContainer),t.topGridContainer.children.push(this.topGridContainer),t.axisHeadersContainer.children.push(this.axisHeader),this.on("start",(()=>{t._handleAxisSelection(this)})),this.on("end",(()=>{t._handleAxisSelection(this)})),t.plotContainer.onPrivate("width",(()=>{this.markDirtySize()})),t.plotContainer.onPrivate("height",(()=>{this.markDirtySize()})),t.processAxis(this)}hideDataItem(t){return this._toggleFHDataItem(t,!0),super.hideDataItem(t)}showDataItem(t){return this._toggleFHDataItem(t,!1),super.showDataItem(t)}_toggleFHDataItem(t,e){const i="forceHidden",s=t.get("label");s&&s.set(i,e);const a=t.get("grid");a&&a.set(i,e);const n=t.get("tick");n&&n.set(i,e);const r=t.get("axisFill");r&&r.set(i,e);const o=t.get("bullet");if(o){const t=o.get("sprite");t&&t.set(i,e)}}_toggleDataItem(t,e){const i=t.get("label"),s="visible";i&&i.setPrivate(s,e);const a=t.get("grid");a&&a.setPrivate(s,e);const n=t.get("tick");n&&n.setPrivate(s,e);const r=t.get("axisFill");r&&r.setPrivate(s,e);const o=t.get("bullet");if(o){const t=o.get("sprite");t&&t.setPrivate(s,e)}}_createAssets(t,e,i){var s,a,n;const r=this.get("renderer");let o="minor";const l=t.get("label");if(l){let a=l.get("themeTags"),n=!1;i?-1==(null==a?void 0:a.indexOf(o))&&(n=!0):-1!=(null==a?void 0:a.indexOf(o))&&(n=!0),n&&(null===(s=l.parent)||void 0===s||s.children.removeValue(l),r.makeLabel(t,e),l.dispose(),r.labels.removeValue(l))}else r.makeLabel(t,e);const h=t.get("grid");if(h){let s=h.get("themeTags"),n=!1;i?-1==(null==s?void 0:s.indexOf(o))&&(n=!0):-1!=(null==s?void 0:s.indexOf(o))&&(n=!0),n&&(null===(a=h.parent)||void 0===a||a.children.removeValue(h),r.makeGrid(t,e),h.dispose(),r.grid.removeValue(h))}else r.makeGrid(t,e);const g=t.get("tick");if(g){let s=!1,a=g.get("themeTags");i?-1==(null==a?void 0:a.indexOf(o))&&(s=!0):-1!=(null==a?void 0:a.indexOf(o))&&(s=!0),s&&(null===(n=g.parent)||void 0===n||n.children.removeValue(g),r.makeTick(t,e),g.dispose(),r.ticks.removeValue(g))}else r.makeTick(t,e);i||t.get("axisFill")||r.makeAxisFill(t,e),this._processBullet(t)}_processBullet(t){let e=t.get("bullet"),i=this.get("bullet");if(e||!i||t.get("isRange")||(e=i(this._root,this,t)),e){e.axis=this;const i=e.get("sprite");i&&(i._setDataItem(t),t.setRaw("bullet",e),i.parent||this.bulletsContainer.children.push(i))}}_afterChanged(){super._afterChanged();const t=this.chart;t&&(t._updateChartLayout(),t.axisHeadersContainer.markDirtySize()),this.get("renderer")._updatePositions(),this._seriesAdded=!1}disposeDataItem(t){super.disposeDataItem(t);const e=this.get("renderer"),i=t.get("label");i&&(e.labels.removeValue(i),i.dispose());const s=t.get("tick");s&&(e.ticks.removeValue(s),s.dispose());const a=t.get("grid");a&&(e.grid.removeValue(a),a.dispose());const n=t.get("axisFill");n&&(e.axisFills.removeValue(n),n.dispose());const r=t.get("bullet");r&&r.dispose()}_updateGhost(){this.setPrivate("cellWidth",this.getCellWidthPosition()*this.get("renderer").axisLength());const t=this.ghostLabel;if(!t.isHidden()){const e=t.localBounds(),i=Math.ceil(e.right-e.left);let s=t.get("text");l.each(this.dataItems,(t=>{const e=t.get("label");if(e&&!e.isHidden()){const t=e.localBounds();Math.ceil(t.right-t.left)>i&&(s=e.text._getText())}})),t.set("text",s)}let e=this.get("start",0),i=this.get("end",1);this.get("renderer").updateLabel(t,e+.5*(i-e))}_handleCursorPosition(t,e){t=this.get("renderer").toAxisPosition(t),this._cursorPosition=t,this._snapToSeries=e,this.updateTooltip()}updateTooltip(){const t=this._snapToSeries;let e=this._cursorPosition;const i=this.get("tooltip"),s=this.get("renderer");h.isNumber(e)&&(l.each(this.series,(i=>{if(i.get("baseAxis")===this){const s=this.getSeriesItem(i,e,this.get("tooltipLocation"));t&&-1!=t.indexOf(i)?(i.updateLegendMarker(s),i.updateLegendValue(s),i._settings.tooltipDataItem=s):(i.showDataItemTooltip(s),i.setRaw("tooltipDataItem",s))}})),this.get("snapTooltip")&&(e=this.roundAxisPosition(e,this.get("tooltipLocation",.5))),this.setPrivateRaw("tooltipPosition",e),i&&(s.updateTooltipBounds(i),h.isNaN(e)?i.hide(0):(this._updateTooltipText(i,e),s.positionTooltip(i,e),e<this.get("start",0)||e>this.get("end",1)?i.hide(0):i.show(0))))}_updateTooltipText(t,e){t.label.set("text",this.getTooltipText(e))}roundAxisPosition(t,e){return t}_handleSeriesRemoved(){}handleCursorShow(){let t=this.get("tooltip");t&&t.show()}handleCursorHide(){let t=this.get("tooltip");t&&t.hide()}processSeriesDataItem(t,e){}_clearDirty(){super._clearDirty(),this._sizeDirty=!1,this._rangesDirty=!1}coordinateToPosition(t){const e=this.get("renderer");return e.toAxisPosition(t/e.axisLength())}toAxisPosition(t){return this.get("renderer").toAxisPosition(t)}toGlobalPosition(t){return this.get("renderer").toGlobalPosition(t)}fixPosition(t){return this.get("renderer").fixPosition(t)}shouldGap(t,e,i,s){return!1}createAxisRange(t){return this.axisRanges.push(t)}_groupSeriesData(t){}getCellWidthPosition(){return.05}}Object.defineProperty(u,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Axis"}),Object.defineProperty(u,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s.w.classNames.concat([u.className])})},2586:function(t,e,i){i.d(e,{_:function(){return n}});var s=i(6331),a=i(256);class n extends s.JH{constructor(){super(...arguments),Object.defineProperty(this,"axis",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_beforeChanged(){super._beforeChanged();const t=this.get("sprite");if(this.isDirty("sprite")&&t&&(t.setAll({position:"absolute",role:"figure"}),this._disposers.push(t)),this.isDirty("location")){const e=t.dataItem;this.axis&&t&&e&&this.axis._prepareDataItem(e)}}_dispose(){const t=this.axis;t&&a.each(t._bullets,((e,i)=>{i.uid==this.uid&&delete t._bullets[e]})),super._dispose()}}Object.defineProperty(n,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisBullet"}),Object.defineProperty(n,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s.JH.classNames.concat([n.className])})},6284:function(t,e,i){i.d(e,{n:function(){return l}});var s=i(6275),a=i(6245),n=i(5040),r=i(7652),o=i(7142);class l extends s.Y{constructor(){super(...arguments),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:o.A.new(this._root,{width:a.AQ,isMeasured:!1,themeTags:["axis","x","thumb"]})})}_afterNew(){this._settings.themeTags=r.mergeTags(this._settings.themeTags,["renderer","x"]),super._afterNew(),this.setPrivateRaw("letter","X");const t=this.grid.template;t.set("height",a.AQ),t.set("width",0),t.set("draw",((t,e)=>{t.moveTo(0,0),t.lineTo(0,e.height())})),this.set("draw",((t,e)=>{t.moveTo(0,0),t.lineTo(e.width(),0)}))}_changed(){super._changed();const t=this.axis;t.ghostLabel.setPrivate("visible",!this.get("inside")),t.ghostLabel.set("x",-1e3);const e="opposite",i="inside";if(this.isDirty(e)||this.isDirty(i)){const s=this.chart,a=t.children;if(this.get(i)?t.addTag(i):t.removeTag(i),s){if(this.get(e)){const i=s.topAxesContainer.children;-1==i.indexOf(t)&&i.insertIndex(0,t),t.addTag(e),a.moveValue(this)}else{const i=s.bottomAxesContainer.children;-1==i.indexOf(t)&&i.moveValue(t),t.removeTag(e),a.moveValue(this,0)}t.ghostLabel._applyThemes(),this.labels.each((t=>{t._applyThemes()})),this.root._markDirtyRedraw()}t.markDirtySize()}this.thumb.setPrivate("height",t.labelsContainer.height())}_getPan(t,e){return(e.x-t.x)/this.width()}toAxisPosition(t){const e=this._start||0,i=this._end||1;return t=(t-=this._ls)*(i-e)/this._lc,this.get("inversed")?i-t:e+t}toGlobalPosition(t){const e=this._start||0,i=this._end||1;return this.get("inversed")?t=i-t:t-=e,(t=t/(i-e)*this._lc)+this._ls}_updateLC(){const t=this.axis,e=t.parent;if(e){const i=e.innerWidth();this._lc=this.axisLength()/i,this._ls=(t.x()-e.get("paddingLeft",0))/i}}_updatePositions(){const t=this.axis,e=t.x()-r.relativeToValue(t.get("centerX",0),t.width())-t.parent.get("paddingLeft",0);t.gridContainer.set("x",e),t.topGridContainer.set("x",e),t.bulletsContainer.set("y",this.y());const i=t.chart;if(i){const e=i.plotContainer,s=t.axisHeader;let a=t.get("marginLeft",0),n=t.x()-a;const r=t.parent;r&&(n-=r.get("paddingLeft",0)),s.children.length>0?(a=t.axisHeader.width(),t.set("marginLeft",a+1)):s.set("width",a),s.setAll({x:n,y:-1,height:e.height()+2})}}processAxis(){super.processAxis();const t=this.axis;null==t.get("width")&&t.set("width",a.AQ);const e=this._root.verticalLayout;t.set("layout",e),t.labelsContainer.set("width",a.AQ),t.axisHeader.setAll({layout:e})}axisLength(){return this.axis.width()}positionToPoint(t){return{x:this.positionToCoordinate(t),y:0}}updateTick(t,e,i,s){if(t){n.isNumber(e)||(e=0);let r=.5;r=n.isNumber(s)&&s>1?t.get("multiLocation",r):t.get("location",r),n.isNumber(i)&&i!=e&&(e+=(i-e)*r),t.set("x",this.positionToCoordinate(e));let o=t.get("length",0);const l=t.get("inside",this.get("inside",!1));this.get("opposite")?(t.set("y",a.AQ),l||(o*=-1)):(t.set("y",0),l&&(o*=-1)),t.set("draw",(t=>{t.moveTo(0,0),t.lineTo(0,o)})),this.toggleVisibility(t,e,t.get("minPosition",0),t.get("maxPosition",1))}}updateLabel(t,e,i,s){if(t){let r=.5;r=n.isNumber(s)&&s>1?t.get("multiLocation",r):t.get("location",r),n.isNumber(e)||(e=0);const o=t.get("inside",this.get("inside",!1));this.get("opposite")?o?(t.set("position","absolute"),t.set("y",0)):(t.set("position","relative"),t.set("y",a.AQ)):o?(t.set("y",0),t.set("position","absolute")):(t.set("y",void 0),t.set("position","relative")),n.isNumber(i)&&i!=e&&(e+=(i-e)*r),t.set("x",this.positionToCoordinate(e)),this.toggleVisibility(t,e,t.get("minPosition",0),t.get("maxPosition",1))}}updateGrid(t,e,i){if(t){n.isNumber(e)||(e=0);let s=t.get("location",.5);n.isNumber(i)&&i!=e&&(e+=(i-e)*s),t.set("x",this.positionToCoordinate(e)),this.toggleVisibility(t,e,0,1)}}updateBullet(t,e,i){if(t){const s=t.get("sprite");if(s){n.isNumber(e)||(e=0);let a=t.get("location",.5);n.isNumber(i)&&i!=e&&(e+=(i-e)*a);let r=this.axis.roundAxisPosition(e,a),o=this.axis._bullets[r],l=-1;if(this.get("opposite")&&(l=1),t.get("stacked"))if(o){let t=o.get("sprite");t&&s.set("y",t.y()+t.height()*l)}else s.set("y",0);this.axis._bullets[r]=t,s.set("x",this.positionToCoordinate(e)),this.toggleVisibility(s,e,0,1)}}}updateFill(t,e,i){if(t){n.isNumber(e)||(e=0),n.isNumber(i)||(i=1);let s=this.positionToCoordinate(e),a=this.positionToCoordinate(i);this.fillDrawMethod(t,s,a)}}fillDrawMethod(t,e,i){t.set("draw",(t=>{const s=this.axis.gridContainer.height(),a=this.width();i<e&&([i,e]=[e,i]),e>a||i<0||(t.moveTo(e,0),t.lineTo(i,0),t.lineTo(i,s),t.lineTo(e,s),t.lineTo(e,0))}))}positionTooltip(t,e){this._positionTooltip(t,{x:this.positionToCoordinate(e),y:0})}updateTooltipBounds(t){const e=this.get("inside"),i=1e5;let s=this._display.toGlobal({x:0,y:0}),a=s.x,n=0,o=this.axisLength(),l=i,h="up";this.get("opposite")?e?(h="up",n=s.y,l=i):(h="down",n=s.y-i,l=i):e?(h="down",n=s.y-i,l=i):(h="up",n=s.y,l=i);const g={left:a,right:a+o,top:n,bottom:n+l},u=t.get("bounds");r.sameBounds(g,u)||(t.set("bounds",g),t.set("pointerOrientation",h))}}Object.defineProperty(l,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRendererX"}),Object.defineProperty(l,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s.Y.classNames.concat([l.className])})},7909:function(t,e,i){i.d(e,{j:function(){return l}});var s=i(6275),a=i(6245),n=i(5040),r=i(7652),o=i(7142);class l extends s.Y{constructor(){super(...arguments),Object.defineProperty(this,"_downY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:o.A.new(this._root,{height:a.AQ,isMeasured:!1,themeTags:["axis","y","thumb"]})})}_afterNew(){this._settings.themeTags=r.mergeTags(this._settings.themeTags,["renderer","y"]),this._settings.opposite&&this._settings.themeTags.push("opposite"),super._afterNew(),this.setPrivateRaw("letter","Y");const t=this.grid.template;t.set("width",a.AQ),t.set("height",0),t.set("draw",((t,e)=>{t.moveTo(0,0),t.lineTo(e.width(),0)})),this.set("draw",((t,e)=>{t.moveTo(0,0),t.lineTo(0,e.height())}))}_getPan(t,e){return(t.y-e.y)/this.height()}_changed(){super._changed();const t=this.axis;t.ghostLabel.setPrivate("visible",!this.get("inside")),t.ghostLabel.set("y",-1e3);const e=this.thumb,i="opposite",s="inside",a=this.chart;if(this.isDirty(i)||this.isDirty(s)){const e=t.children;if(this.get(s)?t.addTag(s):t.removeTag(s),a){if(this.get(i)){const s=a.rightAxesContainer.children;-1==s.indexOf(t)&&s.moveValue(t,0),t.addTag(i),e.moveValue(this,0)}else{const s=a.leftAxesContainer.children;-1==s.indexOf(t)&&s.moveValue(t),t.removeTag(i),e.moveValue(this)}t.ghostLabel._applyThemes(),this.labels.each((t=>{t._applyThemes()})),this.root._markDirtyRedraw()}t.markDirtySize()}const n=t.labelsContainer.width();a&&(this.get(i)?e.set("centerX",0):e.set("centerX",n)),e.setPrivate("width",n)}processAxis(){super.processAxis();const t=this.axis;null==t.get("height")&&t.set("height",a.AQ);const e=this._root.horizontalLayout;t.set("layout",e),t.labelsContainer.set("height",a.AQ),t.axisHeader.set("layout",e)}_updatePositions(){const t=this.axis,e=t.y()-r.relativeToValue(t.get("centerY",0),t.height());t.gridContainer.set("y",e),t.topGridContainer.set("y",e),t.bulletsContainer.set("x",this.x());const i=t.chart;if(i){const e=i.plotContainer,s=t.axisHeader;let a=t.get("marginTop",0);s.children.length>0?(a=t.axisHeader.height(),t.set("marginTop",a+1)):s.set("height",a),s.setAll({y:t.y()-a,x:-1,width:e.width()+2})}}axisLength(){return this.axis.innerHeight()}positionToPoint(t){return{x:0,y:this.positionToCoordinate(t)}}updateLabel(t,e,i,s){if(t){n.isNumber(e)||(e=0);let a=.5;a=n.isNumber(s)&&s>1?t.get("multiLocation",a):t.get("location",a);const r=this.get("opposite"),o=t.get("inside",this.get("inside",!1));r?(t.set("x",0),o?t.set("position","absolute"):t.set("position","relative")):o?(t.set("x",0),t.set("position","absolute")):(t.set("x",void 0),t.set("position","relative")),n.isNumber(i)&&i!=e&&(e+=(i-e)*a),t.set("y",this.positionToCoordinate(e)),this.toggleVisibility(t,e,t.get("minPosition",0),t.get("maxPosition",1))}}updateGrid(t,e,i){if(t){n.isNumber(e)||(e=0);let s=t.get("location",.5);n.isNumber(i)&&i!=e&&(e+=(i-e)*s),t.set("y",this.positionToCoordinate(e)),this.toggleVisibility(t,e,0,1)}}updateTick(t,e,i,s){if(t){n.isNumber(e)||(e=0);let a=.5;a=n.isNumber(s)&&s>1?t.get("multiLocation",a):t.get("location",a),n.isNumber(i)&&i!=e&&(e+=(i-e)*a),t.set("y",this.positionToCoordinate(e));let r=t.get("length",0);const o=t.get("inside",this.get("inside",!1));this.get("opposite")?(t.set("x",0),o&&(r*=-1)):o||(r*=-1),t.set("draw",(t=>{t.moveTo(0,0),t.lineTo(r,0)})),this.toggleVisibility(t,e,t.get("minPosition",0),t.get("maxPosition",1))}}updateBullet(t,e,i){if(t){const s=t.get("sprite");if(s){n.isNumber(e)||(e=0);let a=t.get("location",.5);n.isNumber(i)&&i!=e&&(e+=(i-e)*a);let r=this.axis.roundAxisPosition(e,a),o=this.axis._bullets[r],l=1;if(this.get("opposite")&&(l=-1),t.get("stacked"))if(o){let t=o.get("sprite");t&&s.set("x",t.x()+t.width()*l)}else s.set("x",0);this.axis._bullets[r]=t,s.set("y",this.positionToCoordinate(e)),this.toggleVisibility(s,e,0,1)}}}updateFill(t,e,i){if(t){n.isNumber(e)||(e=0),n.isNumber(i)||(i=1);let s=this.positionToCoordinate(e),a=this.positionToCoordinate(i);this.fillDrawMethod(t,s,a)}}fillDrawMethod(t,e,i){t.set("draw",(t=>{const s=this.axis.gridContainer.width(),a=this.height();i<e&&([i,e]=[e,i]),e>a||i<0||(t.moveTo(0,e),t.lineTo(s,e),t.lineTo(s,i),t.lineTo(0,i),t.lineTo(0,e))}))}positionToCoordinate(t){return this._inversed?(t-this._start)*this._axisLength:(this._end-t)*this._axisLength}positionTooltip(t,e){this._positionTooltip(t,{x:0,y:this.positionToCoordinate(e)})}updateTooltipBounds(t){const e=this.get("inside"),i=1e5;let s=this._display.toGlobal({x:0,y:0}),a=s.y,n=0,o=this.axisLength(),l=i,h="right";this.get("opposite")?e?(h="right",n=s.x-i,l=i):(h="left",n=s.x,l=i):e?(h="left",n=s.x,l=i):(h="right",n=s.x-i,l=i);const g={left:n,right:n+l,top:a,bottom:a+o},u=t.get("bounds");r.sameBounds(g,u)||(t.set("bounds",g),t.set("pointerOrientation",h))}_updateLC(){const t=this.axis,e=t.parent;if(e){const i=e.innerHeight();this._lc=this.axisLength()/i,this._ls=t.y()/i}}toAxisPosition(t){const e=this._start||0,i=this._end||1;return t=(t-=this._ls)*(i-e)/this._lc,this.get("inversed")?e+t:i-t}toGlobalPosition(t){const e=this._start||0,i=this._end||1;return this.get("inversed")?t-=e:t=i-t,(t=t/(i-e)*this._lc)+this._ls}fixPosition(t){return this.get("inversed")?t:1-t}}Object.defineProperty(l,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRendererY"}),Object.defineProperty(l,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s.Y.classNames.concat([l.className])})},5638:function(t,e,i){i.d(e,{S:function(){return c}});var s=i(9361),a=i(7261),n=i(5040),r=i(751),o=i(3540),l=i(5071),h=i(256),g=i(7652),u=i(1926);class c extends a.m{constructor(){super(...arguments),Object.defineProperty(this,"_dataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_seriesDataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_groupingCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_intervalDuration",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_baseDuration",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_intervalMax",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_intervalMin",{enumerable:!0,configurable:!0,writable:!0,value:{}})}_afterNew(){this._settings.themeTags=g.mergeTags(this._settings.themeTags,["axis"]),super._afterNew(),this._setBaseInterval(this.get("baseInterval")),this.on("baseInterval",(()=>{this._setBaseInterval(this.get("baseInterval"))}))}_setBaseInterval(t){this.setPrivateRaw("baseInterval",t),this._baseDuration=u.getIntervalDuration(t)}_fixZoomFactor(){const t=this.get("maxZoomFactor");null!=t&&t!=1/0?this.setPrivateRaw("maxZoomFactor",t):this.setPrivateRaw("maxZoomFactor",Math.round((this.getPrivate("max",0)-this.getPrivate("min",0))/this.baseMainDuration()))}_groupData(){const t=this.getPrivate("min"),e=this.getPrivate("max");if(n.isNumber(t)&&n.isNumber(e)){this._fixZoomFactor();const t=this.getPrivate("groupInterval");if(t?this._setBaseInterval(t):this._setBaseInterval(this.get("baseInterval")),this.isDirty("groupInterval")){let t=this.get("groupInterval");t&&(this.setRaw("groupIntervals",[t]),this._handleRangeChange())}if(this.isDirty("groupData")&&!this._dataGrouped){if(this.get("groupData"))l.each(this.series,(t=>{this._groupSeriesData(t)})),this._handleRangeChange();else{let t=this.get("baseInterval"),e=t.timeUnit+t.count;l.each(this.series,(t=>{t.setDataSet(e),t.resetGrouping()})),this._setBaseInterval(t),this.setPrivateRaw("groupInterval",void 0),this.markDirtyExtremes()}this._dataGrouped=!0}}}_groupSeriesData(t){if(this.get("groupData")&&!t.get("groupDataDisabled")){this._dataGrouped=!0,this._seriesDataGrouped=!0;let e=[],i=this.baseMainDuration(),a=this.get("groupIntervals");l.each(a,(t=>{u.getIntervalDuration(t)>i&&e.push(t)})),t._dataSets={};const r=this.getPrivate("name")+this.get("renderer").getPrivate("letter");let o;const g=t.get("baseAxis");t.get("xAxis")===g?o=t._valueYFields:t.get("yAxis")===g&&(o=t._valueXFields);let c=t._mainDataItems,d=this.get("baseInterval"),m=d.timeUnit+d.count;t._dataSets[m]=c;const p=t.get("groupDataCallback");let b=t.get("groupDataWithOriginals",!1);p&&(b=!0),l.each(e,(e=>{let i,a=-1/0,g=e.timeUnit+e.count;t._dataSets[g]=[];let d={},m={},x={},_={};l.each(o,(e=>{d[e]=0,m[e]=0,x[e]=t.get(e+"Grouped"),_[e]=e+"Working"}));let v,f,P=u.getDuration(e.timeUnit);c[0]&&(v=c[0].get(r)),l.each(c,(c=>{let y,D=c.get(r),M=u.roun(D,e.timeUnit,e.count,this._root,v);a<M-P/24?(y=h.copy(c.dataContext),i=new s.z(t,y,t._makeDataItem(y)),i.setRaw(r,M),t._dataSets[g].push(i),l.each(o,(t=>{let e=c.get(t);n.isNumber(e)?(i.setRaw(t,e),i.setRaw(_[t],e),m[t]=1,d[t]=e):(d[t]=0,m[t]=0)})),b&&i.set("originals",[c]),p&&f&&p(f,e),f=i):(l.each(o,(t=>{let e=x[t],s=c.get(t);if(null!=s){let a=i.get(t);switch(e){case"close":i.setRaw(t,s);break;case"sum":i.setRaw(t,a+s);break;case"open":break;case"low":s<a&&i.setRaw(t,s);break;case"high":s>a&&i.setRaw(t,s);break;case"average":m[t]++,d[t]+=s;let e=d[t]/m[t];i.setRaw(t,e);break;case"extreme":Math.abs(s)>Math.abs(a)&&i.setRaw(t,s)}i.setRaw(_[t],i.get(t));let n=h.copy(c.dataContext);n[r]=M,i.dataContext=n}})),b&&i.get("originals").push(c)),a=M})),p&&f&&p(f,e)})),t._dataSetId&&t.setDataSet(t._dataSetId),this.markDirtySize(),this._seriesAdded&&this._root.events.once("frameended",(()=>{this.markDirtySize()}))}}_clearDirty(){super._clearDirty(),this._groupingCalculated=!1,this._dataGrouped=!1}getGroupInterval(t){let e=this.get("baseInterval"),i=u.chooseInterval(0,t,this.get("groupCount",1/0),this.get("groupIntervals"));return u.getIntervalDuration(i)<u.getIntervalDuration(e)&&(i=Object.assign({},e)),i}getIntervalMax(t){return this._intervalMax[t.timeUnit+t.count]}getIntervalMin(t){return this._intervalMin[t.timeUnit+t.count]}_handleRangeChange(){super._handleRangeChange();let t=Math.round(this.getPrivate("selectionMin")),e=Math.round(this.getPrivate("selectionMax"));if(n.isNumber(t)&&n.isNumber(e)){if(0==this.get("endLocation")&&(e+=1),this.get("groupData")&&!this._groupingCalculated){this._groupingCalculated=!0;let i=this.get("groupInterval"),s=this.getPrivate("groupInterval"),a=e-t+(this.get("startLocation",0)+(1-this.get("endLocation",1))*this.baseDuration());if(s){let t=u.getIntervalDuration(s);a=Math.ceil(a/t)*t}if(i||(i=this.getGroupInterval(a)),i&&(!s||s.timeUnit!==i.timeUnit||s.count!==i.count||this._seriesDataGrouped)){this._seriesDataGrouped=!1,this.setPrivateRaw("groupInterval",i),this._setBaseInterval(i);let t=i.timeUnit+i.count;l.each(this.series,(e=>{e.get("baseAxis")===this&&e.setDataSet(t)})),this.markDirtyExtremes(),this._root.events.once("frameended",(()=>{this._root.events.once("frameended",(()=>{const t="groupintervalchanged";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this})}))}))}}l.each(this.series,(i=>{if(i.get("baseAxis")===this){let s=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),a=l.getFirstSortedIndex(i.dataItems,(e=>o.qu(e.get(s),t))).index;a>0&&(a-=1),e+=this.baseDuration()*(1-this.get("endLocation",1));let n=l.getSortedIndex(i.dataItems,(t=>o.qu(t.get(s),e))).index,r=n;r>1&&r--;const h=i.dataItems[a],g=i.dataItems[r];let u,c;h&&(c=h.get(s)),g&&(u=g.get(s));let d=!1;null!=u&&null!=c&&(u<t||c>e)&&(d=!0),i.setPrivate("outOfSelection",d),i.setPrivate("startIndex",a),i.setPrivate("adjustedStartIndex",i._adjustStartIndex(a)),i.setPrivate("endIndex",n),this.root.events.once("frameended",(()=>{i._markDirtyPrivateKey("adjustedStartIndex")}))}}))}}_adjustMinMax(t,e,i,s){return{min:t,max:e,step:(e-t)/i}}intervalDuration(){return this._intervalDuration}_saveMinMax(t,e){let i=this.getPrivate("groupInterval");i||(i=this.get("baseInterval"));let s=i.timeUnit+i.count;this._intervalMin[s]=t,this._intervalMax[s]=e}_getM(t){return"month"==t||"year"==t||"day"==t?1.05:1.01}_getMinorInterval(t){var e;let i,s=t.count,a=t.timeUnit;return s>1&&(10==s||15==s?s=5:12==s?s=2:6==s?s=1:30==s?s=10:s<10&&(s=1),i={timeUnit:a,count:s}),"week"==a&&(i="week"!=(null===(e=this.getPrivate("baseInterval"))||void 0===e?void 0:e.timeUnit)?{timeUnit:"day",count:1}:{timeUnit:"week",count:1}),i}_prepareAxisItems(){const t=this.getPrivate("min"),e=this.getPrivate("max");if(n.isNumber(t)&&n.isNumber(e)){const e=this._root,i=Math.round(this.getPrivate("selectionMin")),a=Math.round(this.getPrivate("selectionMax")),r=this.get("renderer"),o=this.getPrivate("baseInterval");let h=i,g=0;const c=this.get("gridIntervals");let d=u.chooseInterval(0,a-i,r.gridCount(),c);u.getIntervalDuration(d)<this.baseDuration()&&(d=Object.assign({},o));const m=u.getIntervalDuration(d);this._intervalDuration=m;const p=u.getNextUnit(d.timeUnit),b=e.utc,x=e.timezone;h=u.roun(i-m,d.timeUnit,d.count,e,t);let _,v=h-m;const f=this.get("dateFormats");this.setPrivateRaw("gridInterval",d);const P=r.get("minorLabelsEnabled"),y=r.get("minorGridEnabled",P);let D,M=0;y&&(D=this._getMinorInterval(d),M=u.getIntervalDuration(D));let w=0;for(;h<a+m;){let t;this.dataItems.length<g+1?(t=new s.z(this,void 0,{}),this._dataItems.push(t),this.processDataItem(t)):t=this.dataItems[g],this._createAssets(t,[]),this._toggleDataItem(t,!0),t.setRaw("value",h),t.setRaw("labelEndValue",void 0);let i=h+u.getDuration(d.timeUnit,d.count*this._getM(d.timeUnit));i=u.roun(i,d.timeUnit,1,e),t.setRaw("endValue",i);let a=new Date(h);_=f[d.timeUnit],p&&this.get("markUnitChange")&&n.isNumber(v)&&"year"!=d.timeUnit&&u.checkChange(h,v,p,b,x)&&(_=this.get("periodChangeDateFormats")[d.timeUnit]);const r=t.get("label");r&&r.set("text",e.dateFormatter.format(a,_));let o=d.count;if("week"==d.timeUnit&&t.setRaw("labelEndValue",h),y){o=1;let i=d.timeUnit;"week"==i&&(i="day");let s=h+u.getDuration(i,this._getM(i));s=u.roun(s,i,1,e),t.setRaw("labelEndValue",s)}if(this._prepareDataItem(t,o),v=h,h=i,D){const t=D.timeUnit,i=D.count,a=this._getM(t);let n,r=u.roun(v+M*a,t,i,e,v),o=this.get("minorDateFormats",this.get("dateFormats"));for(;r<h-.01*M;){let l;this.minorDataItems.length<w+1?(l=new s.z(this,void 0,{}),this.minorDataItems.push(l),this.processDataItem(l)):l=this.minorDataItems[w],this._createAssets(l,["minor"],!0),this._toggleDataItem(l,!0),l.setRaw("value",r);let h=r+u.getDuration(t,i*a);h=u.roun(h,t,1,e),l.setRaw("endValue",h);let g=new Date(r);_=o[t];const c=l.get("label");if(c&&(P?c.set("text",e.dateFormatter.format(g,_)):c.setPrivate("visible",!1)),this._prepareDataItem(l,1),r==n)break;n=r,r=h,w++}}if(h==v)break;g++}for(let t=g;t<this.dataItems.length;t++)this._toggleDataItem(this.dataItems[t],!1);for(let t=w;t<this.minorDataItems.length;t++)this._toggleDataItem(this.minorDataItems[t],!1);l.each(this.series,(t=>{t.inited&&t._markDirtyAxes()}))}this._updateGhost()}_updateFinals(t,e){this.setPrivateRaw("selectionMinFinal",this.positionToValue(t)),this.setPrivateRaw("selectionMaxFinal",this.positionToValue(e))}_getDelta(){this._deltaMinMax=this.baseDuration()/2}_fixMin(t){const e=this.getPrivate("baseInterval"),i=e.timeUnit;let s=u.roun(t,i,e.count,this._root),a=s+u.getDuration(i,e.count*this._getM(i));return a=u.roun(a,i,1,this._root),s+(a-s)*this.get("startLocation",0)}_fixMax(t){const e=this.getPrivate("baseInterval"),i=e.timeUnit;let s=u.roun(t,i,e.count,this._root),a=s+u.getDuration(i,e.count*this._getM(i));return a=u.roun(a,i,1,this._root),s+(a-s)*this.get("endLocation",1)}_updateDates(t,e){}_handleSeriesRemoved(){this.setPrivate("baseInterval",this.get("baseInterval")),this.setPrivate("min",void 0),this.setPrivate("minFinal",void 0)}baseDuration(){return this._baseDuration}baseMainDuration(){return u.getIntervalDuration(this.get("baseInterval"))}processSeriesDataItem(t,e){const i=this.getPrivate("baseInterval");t.open||(t.open={}),t.close||(t.close={}),l.each(e,(e=>{let s=t.get(e);if(n.isNumber(s)){let a=t.open[e],n=t.close[e];if(s>=a&&s<=n);else{const r=i.timeUnit,o=i.count;a=u.roun(s,r,o,this._root),n=a+u.getDuration(r,o*this._getM(r)),n=u.roun(n,r,1,this._root),t.open[e]=a,t.close[e]=n}this._updateDates(a,t.component)}}))}_handleSizeDirty(){}getDataItemPositionX(t,e,i,s,a){let n,r,o;return a?o=t.get(e):(t.open&&t.close?(n=t.open[e],r=t.close[e]):(n=t.get(e),r=n),o=n+(r-n)*i,o=this._baseValue+(o-this._baseValue)*s),this.valueToPosition(o)}getDataItemCoordinateX(t,e,i,s){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(t,e,i,s))}getDataItemPositionY(t,e,i,s,a){let n,r,o;return a?o=t.get(e):(t.open&&t.close?(n=t.open[e],r=t.close[e]):(n=t.get(e),r=n),o=n+(r-n)*i,o=this._baseValue+(o-this._baseValue)*s),this.valueToPosition(o)}getDataItemCoordinateY(t,e,i,s){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(t,e,i,s))}roundAxisPosition(t,e){let i=this.positionToValue(t);i-=(e-.5)*this.baseDuration();let s=this.getPrivate("baseInterval");if(!n.isNaN(i)){const t=this._root.locale.firstDayOfWeek,a=s.timeUnit,n=this._root.utc,r=this._root.timezone,o=s.count;i=u.roun(i,a,o,this._root,this.getPrivate("min",0));let l=u.getDateIntervalDuration(s,new Date(i),t,n,r);return r&&(i=u.roun(i+.05*this.baseDuration(),a,o,this._root,this.getPrivate("min",0)),l=u.getDateIntervalDuration(s,new Date(i+l*e),t,n,r)),this.valueToPosition(i+l*e)}return NaN}getTooltipText(t,e){if(null!=this.getPrivate("min")){let i=this.get("tooltipDateFormats")[this.getPrivate("baseInterval").timeUnit],s=this.positionToValue(t);if(n.isNumber(s)){let t=new Date(s),a=this.getPrivate("baseInterval"),n=u.getDateIntervalDuration(a,t,this._root.locale.firstDayOfWeek,this._root.utc,this._root.timezone);return!1!==e&&(t=new Date(s+this.get("tooltipIntervalOffset",-this.get("tooltipLocation",.5))*n)),this._root.dateFormatter.format(t,this.get("tooltipDateFormat",i))}}return""}getSeriesItem(t,e,i,s){let a=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),n=this.positionToValue(e);null==i&&(i=.5),n-=(i-.5)*this.baseDuration();const r=l.getSortedIndex(t.dataItems,(t=>{let e=0;return t.open&&(e=t.open[a]),o.qu(e,n)}));if(s||t.get("snapTooltip")){let e=t.dataItems[r.index-1],i=t.dataItems[r.index];if(e&&i&&e.open&&i.close){let t=e.open[a],s=i.close[a];if(Math.abs(n-t)>Math.abs(n-s))return i}if(e)return e;if(i)return i}else{const e=t.dataItems[r.index-1];if(e&&e.open&&e.close){let t=e.open[a],i=e.close[a];if(n>=t&&n<=i)return e}}}shouldGap(t,e,i,s){const a=t.get(s);return e.get(s)-a>this.baseDuration()*i}zoomToDates(t,e,i){this.zoomToValues(t.getTime(),e.getTime(),i)}zoomToValues(t,e,i){const s=this.getPrivate("minFinal",0),a=this.getPrivate("maxFinal",0);if(null!=this.getPrivate("min")&&null!=this.getPrivate("max"))if(this.get("groupData")){const s=this.getGroupInterval(e-t),a=this.get("baseInterval");let n=this.getIntervalMin(a),r=this.getIntervalMax(a)-1;r=u.roun(r,s.timeUnit,s.count,this.root),r+=this._getM(s.timeUnit)*u.getIntervalDuration(s),r=u.roun(r,s.timeUnit,s.count,this.root);let o=u.roun(n,s.timeUnit,s.count,this.root),l=u.roun(r,s.timeUnit,s.count,this.root),h=(t-o)/(l-o),g=(e-o)/(l-o);this.zoom(h,g,i)}else this.zoom((t-s)/(a-s),(e-s)/(a-s),i)}positionToDate(t){return new Date(this.positionToValue(t))}dateToPosition(t){return this.valueToPosition(t.getTime())}getCellWidthPosition(){let t=this.getPrivate("selectionMax",this.getPrivate("max")),e=this.getPrivate("selectionMin",this.getPrivate("min"));return n.isNumber(t)&&n.isNumber(e)?this._intervalDuration/(t-e):.05}nextPosition(t){null==t&&(t=1);let e=this.get("tooltipLocation",.5)*this.baseDuration();"Y"==this.get("renderer").getPrivate("letter")&&(t*=-1);let i=this.positionToValue(this.getPrivate("tooltipPosition",0));const s=this.getPrivate("baseInterval");let a=this._nextTime(i,t,s),n=this.getPrivate("selectionMin",0),o=this.getPrivate("selectionMax",0),l=u.roun(n,s.timeUnit,s.count,this._root),h=u.roun(o,s.timeUnit,s.count,this._root);return a+=e,a=r.fitToRange(a,l+e,h-e),this.toGlobalPosition(this.valueToPosition(a))}_nextTime(t,e,i){return u.roun(t+e*this.baseDuration(),i.timeUnit,i.count,this._root)}}Object.defineProperty(c,"className",{enumerable:!0,configurable:!0,writable:!0,value:"DateAxis"}),Object.defineProperty(c,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:a.m.classNames.concat([c.className])})},8701:function(t,e,i){i.d(e,{J:function(){return g}});var s=i(5638),a=i(9361),n=i(5071),r=i(3540),o=i(1926),l=i(5040),h=i(751);class g extends s.S{constructor(){super(...arguments),Object.defineProperty(this,"_frequency",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_m",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_dates",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_customDates",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this.valueFields.push("date"),super._afterNew()}_getDates(){return this._customDates?this._customDates:this._dates}_updateDates(t,e){if(!e.get("ignoreMinMax")){const e=this._getDates(),i=n.getSortedIndex(e,(e=>r.qu(e,t)));i.found||n.insertIndex(e,i.index,t)}}_updateAllDates(){if(!this._customDates){const t=this._dates;t.length=0,n.each(this.series,(t=>{let e="valueX";t.get("yAxis")==this&&(e="valueY"),n.each(t.dataItems,(i=>{let s=i.get(e);l.isNumber(s)&&i.open&&this._updateDates(i.open[e],t)}))}));const e=this.get("extraMax",0),i=this.get("extraMin",0);let s=t.length;const a=this.getPrivate("baseInterval"),r=a.count,h=a.timeUnit;if(e>0){const i=s*e;let a=t[s-1];if(l.isNumber(a))for(let e=s-1;e<s+i;e++)a+=o.getDuration(h,r*this._getM(h)),a=o.roun(a,h,r,this._root),t.push(a)}if(i>0){const e=s*i;let a=t[0];if(l.isNumber(a))for(let i=0;i<e;i++)a-=o.getDuration(h,r),a=o.roun(a,h,r,this._root),t.unshift(a)}}}valueToPosition(t){const e=this._getDates(),i=this.get("startLocation",0),s=this.get("endLocation",1),a=e.length-i-(1-s),o=n.getSortedIndex(e,(e=>r.qu(e,t)));let l=o.index;if(o.found)return(l-i)/a;{l>0&&(l-=1);let s=e[l];const n=e[l+1];if(n){let e=n;Math.abs(e-t)<Math.abs(s-t)&&(s=e,l++)}return(l-i)/a+(t-s)/this.baseDuration()/a}}valueToIndex(t){const e=this._getDates(),i=n.getSortedIndex(e,(e=>r.qu(e,t)));let s=i.index;return i.found||s>0&&(s-=1),s}positionToValue(t){const e=this.get("startLocation",0),i=this.get("endLocation",1),s=this._getDates();let a=Math.round(s.length-e-(1-i)),n=t*a,r=Math.floor(n);return r<0&&(r=0),r>a-1&&(r=a-1),s[r]+(n-r+e)*this.baseDuration()}_fixZoomFactor(){this.setPrivateRaw("maxZoomFactor",this._getDates().length-this.get("startLocation",0)-(1-this.get("endLocation",1)))}zoomToDates(t,e,i){const s=this._getDates(),a=s.length;let o=n.getSortedIndex(s,(e=>r.qu(e,t.getTime()))),l=s[Math.min(o.index,a-1)];o=n.getSortedIndex(s,(t=>r.qu(t,e.getTime())));let h=s[o.index];o.index>=a&&(h=s[a-1]+this.baseDuration()),this.zoomToValues(l,h,i)}zoomToValues(t,e,i){const s=this.getPrivate("min",0),a=this.getPrivate("max",0);t=h.fitToRange(t,s,a),e=h.fitToRange(e,s,a),this.zoom(this.valueToPosition(t),this.valueToPosition(e),i)}_prepareAxisItems(){let t=this.getPrivate("selectionMin",0),e=this.getPrivate("selectionMax",0);if(l.isNumber(t)&&l.isNumber(e)){this._seriesValuesDirty&&(this._seriesValuesDirty=!1,this._updateAllDates());const i=this._root,s=i.utc,r=i.timezone,h=this._getDates(),g=this.get("renderer"),u=h.length,c=this.baseDuration();let d=this.valueToIndex(t);d>0&&d--;let m=this.valueToIndex(e);m<u-1&&m++;let p=g.axisLength()/Math.max(g.get("minGridDistance"),1/Number.MAX_SAFE_INTEGER),b=Math.min(u,Math.ceil((m-d)/p));b=Math.max(1,b),d=Math.floor(d/b)*b,this._frequency=b,n.each(this.dataItems,(t=>{this._toggleDataItem(t,!1)})),n.each(this.minorDataItems,(t=>{this._toggleDataItem(t,!1)}));let x=e-t-((e-t)/c-(m-d))*c,_=o.chooseInterval(0,x,p,this.get("gridIntervals"));const v=this.getPrivate("baseInterval");let f=o.getIntervalDuration(_);f<c&&(_=Object.assign({},v),f=o.getIntervalDuration(_)),this._intervalDuration=f;const P=_.timeUnit,y=this.get("dateFormats");let D=Date.now();h[0]&&(D=h[0]);let M=o.roun(this.getPrivate("selectionMin",0),P,_.count,i,D);const w=g.get("minorLabelsEnabled"),I=g.get("minorGridEnabled",w);let T,N,A=0;I&&(T=this._getMinorInterval(_),A=o.getIntervalDuration(T));let C=this._getIndexes(M,this.getPrivate("selectionMax",M)+f,_,this.getPrivate("min",M));if(C.length>0){let t=0;this._m=0;let e=M-10*f;const u=o.getNextUnit(P);if(T){let t=h[C[0]];this._addMinorGrid(t-f,t,A,T)}let c=g.axisLength()/g.gridCount()*.5;n.each(C,(n=>{var d;let m;this.dataItems.length<t+1?(m=new a.z(this,void 0,{}),this._dataItems.push(m),this.processDataItem(m)):m=this.dataItems[t];let p=h[n],b=new Date(p),x=p;t<C.length-1?x=h[C[t+1]]:x+=f,m.setRaw("value",p),m.setRaw("endValue",x),m.setRaw("index",t),m.setRaw("labelEndValue",void 0);let v=y[P];u&&this.get("markUnitChange")&&l.isNumber(e)&&"year"!=P&&o.checkChange(p,e,u,s,r)&&(v=this.get("periodChangeDateFormats")[P]),this._createAssets(m,[]);const D=m.get("label");D&&D.set("text",i.dateFormatter.format(b,v)),this._toggleDataItem(m,!0);let M=_.count;if("week"==P&&m.setRaw("labelEndValue",p),I){let t=_.timeUnit;if("week"==t&&(t="day"),M>1||"week"==_.timeUnit){let e=o.roun(p,t,1,i)+o.getDuration(t,this._getM(t)),s=this.valueToIndex(e);if(e=h[s],e==p){let t=h[s+1];t?e=t:e+=A}m.setRaw("labelEndValue",e)}M=1}if(this._prepareDataItem(m,M),D&&N&&"X"==g.getPrivate("letter")){let t=N.get("label");if(t&&D.x()-t.x()<c){let t=this._pickWorse(N,m,_);t&&(null===(d=t.get("label"))||void 0===d||d.setPrivate("visible",!1))}}T&&this._addMinorGrid(p,x,A,T),t++,D&&D.getPrivate("visible")&&(N=m),e=p}))}n.each(this.series,(t=>{t.inited&&t._markDirtyAxes()}))}this._updateGhost()}_pickWorse(t,e,i){const s=i.timeUnit,a=t.get("value",0),n=e.get("value",0);return"hour"==s&&new Date(a).getDate()!=new Date(n).getDate()?t:e}_addMinorGrid(t,e,i,s){const r=this.get("minorDateFormats",this.get("dateFormats")),l=s.timeUnit;let h=t+o.getDuration(l,this._getM(l));h=o.roun(h,l,1,this._root);let g=e-.5*i,u=this._getIndexes(h,g,s,h);const c=this._getDates();n.each(u,(t=>{let e;this.minorDataItems.length<this._m+1?(e=new a.z(this,void 0,{}),this.minorDataItems.push(e),this.processDataItem(e)):e=this.minorDataItems[this._m],h=c[t],e.setRaw("value",h),e.setRaw("endValue",h+i),e.setRaw("index",t),this._createAssets(e,["minor"],!0);const s=e.get("label");if(s)if(this.get("renderer").get("minorLabelsEnabled")){let t=new Date(h),e=r[l];s.set("text",this._root.dateFormatter.format(t,e))}else s.setPrivate("visible",!1);this._toggleDataItem(e,!0),this._prepareDataItem(e,1),this._m++}))}_getIndexes(t,e,i,s){const a=[],r=i.timeUnit,l=i.count,h=this._getM(r),g=this.getPrivate("baseInterval"),u=this._root,c=this._getDates();let d=l-1,m=-1/0,p=o.getDuration(r,h),b=o.getDuration(r,l*h),x=t;for("day"==r&&(t=s);t<=e;){t=o.roun(t,r,l,u);let e=this.valueToIndex(t),i=c[e];if("day"==r&&"day"==g.timeUnit)this._hasDate(t)&&d++,d==l&&(t>=x-2*b&&n.move(a,e),d=0),t+=p,t=o.roun(t,r,1,u);else{if(i<t)for(let s=e,a=c.length;s<a;s++)if(i=c[s],i>=t){e=s;break}n.move(a,e),t+=b,t=o.roun(t,r,l,u)}if(t==m&&(t+=b+p,t=o.roun(t,r,l,u)),t==m)break;m=t}return a}_hasDate(t){return n.getSortedIndex(this._getDates(),(e=>r.HO(e,t))).found}_nextTime(t,e,i){let s=h.fitToRange(this.valueToIndex(t)+e,0,this._dates.length-1);return this._dates[s]}}Object.defineProperty(g,"className",{enumerable:!0,configurable:!0,writable:!0,value:"GaplessDateAxis"}),Object.defineProperty(g,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s.S.classNames.concat([g.className])})},7261:function(t,e,i){i.d(e,{m:function(){return g}});var s=i(9361),a=i(6515),n=i(7449),r=i(5040),o=i(5071),l=i(751),h=i(7652);class g extends a.R{constructor(){super(...arguments),Object.defineProperty(this,"_dirtyExtremes",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dirtySelectionExtremes",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dseHandled",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_deltaMinMax",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_minReal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_maxReal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_minRealLog",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_baseValue",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_syncDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_minLogAdjusted",{enumerable:!0,configurable:!0,writable:!0,value:1})}markDirtyExtremes(){this._dirtyExtremes=!0,this.markDirty()}markDirtySelectionExtremes(){this._dirtySelectionExtremes=!0,this.markDirty()}_afterNew(){this._settings.themeTags=h.mergeTags(this._settings.themeTags,["axis"]),this.setPrivateRaw("name","value"),this.addTag("value"),super._afterNew()}_prepareChildren(){if(super._prepareChildren(),this.isDirty("syncWithAxis")){this._prevSettings.syncWithAxis&&this._syncDp&&this._syncDp.dispose();let t=this.get("syncWithAxis");t&&(this._syncDp=new n.FV([t.onPrivate("selectionMinFinal",(()=>{this._dirtySelectionExtremes=!0})),t.onPrivate("selectionMaxFinal",(()=>{this._dirtySelectionExtremes=!0}))]))}let t=!1;if((this.isDirty("min")||this.isDirty("max")||this.isDirty("maxPrecision")||this.isDirty("numberFormat"))&&(t=!0,this.ghostLabel.set("text","")),(this._sizeDirty||this._dirtyExtremes||this._valuesDirty||t||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("extraMin")||this.isDirty("extraMax")||this.isDirty("logarithmic")||this.isDirty("treatZeroAs")||this.isDirty("baseValue")||this.isDirty("strictMinMax")||this.isDirty("strictMinMaxSelection"))&&(this._getMinMax(),this._dirtyExtremes=!1),this._handleSizeDirty(),this._dirtySelectionExtremes&&!this._isPanning&&this.get("autoZoom",!0)){const t=this.chart;let e=!1;if(t){const i=this.get("renderer").getPrivate("letter");"Y"==i?t.xAxes.each((t=>{"ValueAxis"!=t.className&&(e=!0)})):"X"==i&&t.yAxes.each((t=>{"ValueAxis"!=t.className&&(e=!0)}))}e&&this._getSelectionMinMax(),this._dirtySelectionExtremes=!1}this._groupData(),(this._sizeDirty||this._valuesDirty||this.isDirty("start")||this.isDirty("end")||this.isPrivateDirty("min")||this.isPrivateDirty("selectionMax")||this.isPrivateDirty("selectionMin")||this.isPrivateDirty("max")||this.isPrivateDirty("step")||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("logarithmic"))&&(this._handleRangeChange(),this._prepareAxisItems(),this._updateAxisRanges()),this._baseValue=this.baseValue()}_handleSizeDirty(){this._sizeDirty&&!this._dseHandled&&(this._dirtySelectionExtremes=!0,this._dseHandled=!0,this.getPrivate("selectionMinFinal")==this.getPrivate("selectionMin")&&this.getPrivate("selectionMaxFinal")==this.getPrivate("selectionMax")||(this._dirtySelectionExtremes=!1))}_clearDirty(){super._clearDirty(),this._dseHandled=!1}_groupData(){}_formatText(t){const e=this.get("numberFormat"),i=this.getNumberFormatter();let s="";return s=e?i.format(t,e):i.format(t,void 0,this.getPrivate("stepDecimalPlaces")),s}_prepareAxisItems(){const t=this.getPrivate("min"),e=this.getPrivate("max");if(r.isNumber(t)&&r.isNumber(e)){const e=this.get("logarithmic"),i=this.getPrivate("step"),a=this.getPrivate("selectionMin"),n=this.getPrivate("selectionMax")+i;let h=a-i,g=1,u=t;if(e){if(h=this._minLogAdjusted,h<a)for(;h<a;)h+=i;if(u=h,u<=0){let t=this._minRealLog;r.isNumber(t)||(t=1),u=Math.pow(10,Math.log(t)*Math.LOG10E),i<1&&(u=r.isNumber(this._minRealLog)?this._minRealLog:Math.pow(10,-50))}g=Math.log(n-i)*Math.LOG10E-Math.log(u)*Math.LOG10E,g>2&&(h=Math.pow(10,Math.log(u)*Math.LOG10E-50))}const c=this.get("renderer"),d=c.get("minorLabelsEnabled"),m=c.get("minorGridEnabled",d);let p=Math.pow(10,Math.floor(Math.log(Math.abs(i))*Math.LOG10E));const b=Math.round(i/p);let x=2;l.round(b/5,10)%1==0&&(x=5),l.round(b/10,10)%1==0&&(x=10);let _=i/x,v=0,f=0,P=-1/0;for(;h<n;){let t;this.dataItems.length<v+1?(t=new s.z(this,void 0,{}),this._dataItems.push(t),this.processDataItem(t)):t=this.dataItems[v],this._createAssets(t,[]),this._toggleDataItem(t,!0),t.setRaw("value",h);const a=t.get("label");a&&a.set("text",this._formatText(h)),this._prepareDataItem(t);let n=h;if(e&&g>2?n=Math.pow(10,Math.log(u)*Math.LOG10E+v-50):n+=i,m){let t=h+_;for(e&&(g>2&&(_=this._adjustMinMax(h,n,10).step),t=h+_);t<n-1e-11*i;){let e;this.minorDataItems.length<f+1?(e=new s.z(this,void 0,{}),this.minorDataItems.push(e),this.processDataItem(e)):e=this.minorDataItems[f],this._createAssets(e,["minor"],!0),this._toggleDataItem(e,!0),e.setRaw("value",t);const i=e.get("label");i&&(d?i.set("text",this._formatText(t)):i.setPrivate("visible",!1)),this._prepareDataItem(e),t+=_,f++}}if(h=n,P==h)break;let r=Math.pow(10,Math.floor(Math.log(Math.abs(i))*Math.LOG10E));if(r<1&&!e){let t=Math.round(Math.abs(Math.log(Math.abs(r))*Math.LOG10E))+2;h=l.round(h,t)}v++,e&&g<=2&&h-i<i&&(h=i),P=h}for(let t=v;t<this.dataItems.length;t++)this._toggleDataItem(this.dataItems[t],!1);for(let t=f;t<this.minorDataItems.length;t++)this._toggleDataItem(this.minorDataItems[t],!1);o.each(this.series,(t=>{t.inited&&t._markDirtyAxes()})),this._updateGhost()}}_prepareDataItem(t,e){let i=this.get("renderer"),s=t.get("value"),a=t.get("endValue"),n=this.valueToPosition(s),o=n,l=this.valueToPosition(s+this.getPrivate("step"));r.isNumber(a)&&(o=this.valueToPosition(a),l=o),t.get("isRange")&&null==a&&(l=n);let h=o,g=t.get("labelEndValue");null!=g&&(h=this.valueToPosition(g)),i.updateLabel(t.get("label"),n,h,e);const u=t.get("grid");if(i.updateGrid(u,n,o),u&&(s==this.get("baseValue",0)?(u.addTag("base"),u._applyThemes()):u.hasTag("base")&&(u.removeTag("base"),u._applyThemes())),i.updateTick(t.get("tick"),n,h,e),i.updateFill(t.get("axisFill"),n,l),this._processBullet(t),i.updateBullet(t.get("bullet"),n,o),!t.get("isRange")){const e=this.get("fillRule");e&&e(t)}}_handleRangeChange(){let t=this.positionToValue(this.get("start",0)),e=this.positionToValue(this.get("end",1));const i=this.get("renderer").gridCount();let s=this._adjustMinMax(t,e,i,!0),a=h.decimalPlaces(s.step);this.setPrivateRaw("stepDecimalPlaces",a),t=l.round(t,a),e=l.round(e,a),s=this._adjustMinMax(t,e,i,!0);let n=s.step;t=s.min,e=s.max,this.getPrivate("selectionMin")===t&&this.getPrivate("selectionMax")===e&&this.getPrivate("step")===n||(this.setPrivateRaw("selectionMin",t),this.setPrivateRaw("selectionMax",e),this.setPrivateRaw("step",n))}positionToValue(t){const e=this.getPrivate("min"),i=this.getPrivate("max");return this.get("logarithmic")?Math.pow(Math.E,(t*(Math.log(i)*Math.LOG10E-Math.log(e)*Math.LOG10E)+Math.log(e)*Math.LOG10E)/Math.LOG10E):t*(i-e)+e}valueToPosition(t){const e=this.getPrivate("min"),i=this.getPrivate("max");if(this.get("logarithmic")){if(t<=0){let e=this.get("treatZeroAs");r.isNumber(e)&&(t=e)}return(Math.log(t)*Math.LOG10E-Math.log(e)*Math.LOG10E)/(Math.log(i)*Math.LOG10E-Math.log(e)*Math.LOG10E)}return(t-e)/(i-e)}valueToFinalPosition(t){const e=this.getPrivate("minFinal"),i=this.getPrivate("maxFinal");if(this.get("logarithmic")){if(t<=0){let e=this.get("treatZeroAs");r.isNumber(e)&&(t=e)}return(Math.log(t)*Math.LOG10E-Math.log(e)*Math.LOG10E)/(Math.log(i)*Math.LOG10E-Math.log(e)*Math.LOG10E)}return(t-e)/(i-e)}getX(t,e,i){t=i+(t-i)*e;const s=this.valueToPosition(t);return this._settings.renderer.positionToCoordinate(s)}getY(t,e,i){t=i+(t-i)*e;const s=this.valueToPosition(t);return this._settings.renderer.positionToCoordinate(s)}getDataItemCoordinateX(t,e,i,s){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(t,e,i,s))}getDataItemPositionX(t,e,i,s){let a=t.get(e);return a=t.get("stackToItemX")?a*s+t.component.getStackedXValueWorking(t,e):this._baseValue+(a-this._baseValue)*s,this.valueToPosition(a)}getDataItemCoordinateY(t,e,i,s){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(t,e,i,s))}getDataItemPositionY(t,e,i,s){let a=t.get(e);return a=t.get("stackToItemY")?a*s+t.component.getStackedYValueWorking(t,e):this._baseValue+(a-this._baseValue)*s,this.valueToPosition(a)}basePosition(){return this.valueToPosition(this.baseValue())}baseValue(){const t=Math.min(this.getPrivate("minFinal",-1/0),this.getPrivate("selectionMin",-1/0)),e=Math.max(this.getPrivate("maxFinal",1/0),this.getPrivate("selectionMax",1/0));let i=this.get("baseValue",0);return i<t&&(i=t),i>e&&(i=e),i}cellEndValue(t){return t}fixSmallStep(t){return 1+t===1?(t*=2,this.fixSmallStep(t)):t}_fixMin(t){return t}_fixMax(t){return t}_calculateTotals(){if(this.get("calculateTotals")){let t=this.series[0];if(t){let e=t.startIndex();if(t.dataItems.length>0){e>0&&e--;let i,s,a=t.endIndex();a<t.dataItems.length&&a++,t.get("yAxis")==this?(i="valueY",s="vcy"):t.get("xAxis")==this&&(i="valueX",s="vcx");let n=i+"Working";if(i)for(let t=e;t<a;t++){let e=0,a=0;o.each(this.series,(i=>{if(!i.get("excludeFromTotal")){let o=i.dataItems[t];if(o){let t=o.get(n)*i.get(s);r.isNaN(t)||(e+=t,a+=Math.abs(t))}}})),o.each(this.series,(o=>{if(!o.get("excludeFromTotal")){let l=o.dataItems[t];if(l){let t=l.get(n)*o.get(s);if(!r.isNaN(t)){l.set(i+"Total",a),l.set(i+"Sum",e);let s=t/a*100;0==a&&(s=0),l.set(i+"TotalPercent",s)}}}}))}}}}}_getSelectionMinMax(){const t=this.getPrivate("minFinal"),e=this.getPrivate("maxFinal"),i=this.get("min"),s=this.get("max");let a=this.get("extraMin",0),n=this.get("extraMax",0);this.get("logarithmic")&&(null==this.get("extraMin")&&(a=.1),null==this.get("extraMax")&&(n=.2));const h=this.get("renderer").gridCount(),g=this.get("strictMinMaxSelection");let u=this.get("strictMinMax");if(r.isNumber(t)&&r.isNumber(e)){let c=e,d=t;if(o.each(this.series,(t=>{if(!t.get("ignoreMinMax")){let e,i;const s=t.getPrivate("outOfSelection");if(t.get("xAxis")===this){if(!s){let s=t.getPrivate("minX"),a=t.getPrivate("maxX");0==t.startIndex()&&t.endIndex()==t.dataItems.length||(s=void 0,a=void 0),e=t.getPrivate("selectionMinX",s),i=t.getPrivate("selectionMaxX",a)}}else if(t.get("yAxis")===this&&!s){let s=t.getPrivate("minY"),a=t.getPrivate("maxY");0==t.startIndex()&&t.endIndex()==t.dataItems.length||(s=void 0,a=void 0),e=t.getPrivate("selectionMinY",s),i=t.getPrivate("selectionMaxY",a)}t.isHidden()||t.isShowing()||(r.isNumber(e)&&(c=Math.min(c,e)),r.isNumber(i)&&(d=Math.max(d,i)))}})),this.axisRanges.each((t=>{if(t.get("affectsMinMax")){let e=t.get("value");null!=e&&(c=Math.min(c,e),d=Math.max(d,e)),e=t.get("endValue"),null!=e&&(c=Math.min(c,e),d=Math.max(d,e))}})),c>d&&([c,d]=[d,c]),r.isNumber(i)?c=u?i:t:u&&r.isNumber(this._minReal)&&(c=this._minReal),r.isNumber(s)?d=u?s:e:u&&r.isNumber(this._maxReal)&&(d=this._maxReal),c===d){let e=c;if(c-=this._deltaMinMax,d+=this._deltaMinMax,c<t){let i=e-t;0==i&&(i=this._deltaMinMax),c=e-i,d=e+i,u=!0}let i=this._adjustMinMax(c,d,h,u);c=i.min,d=i.max}let m=c,p=d,b=d-c;c-=b*a,d+=b*n;let x=this._adjustMinMax(c,d,h);c=x.min,d=x.max,c=l.fitToRange(c,t,e),d=l.fitToRange(d,t,e),x=this._adjustMinMax(c,d,h,!0),u||(c=x.min,d=x.max);const _=this.get("syncWithAxis");if(_&&(x=this._syncAxes(c,d,x.step,_.getPrivate("selectionMinFinal",_.getPrivate("minFinal",0)),_.getPrivate("selectionMaxFinal",_.getPrivate("maxFinal",1)),_.getPrivate("selectionStepFinal",_.getPrivate("step",1))),x.min<t&&(x.min=t),x.max>e&&(x.max=e),c=x.min,d=x.max),u&&(r.isNumber(i)&&(c=Math.max(c,i)),r.isNumber(s)&&(d=Math.min(d,s))),g&&(c=m-(p-m)*a,d=p+(p-m)*n),u){c=r.isNumber(i)?i:m,d=r.isNumber(s)?s:p,d-c<=1e-8&&(c-=this._deltaMinMax,d+=this._deltaMinMax);let t=d-c;c-=t*a,d+=t*n}this.get("logarithmic")&&(c<=0&&(c=m*(1-Math.min(a,.99))),c<t&&(c=t),d>e&&(d=e));let v=Math.min(20,Math.ceil(Math.log(this.getPrivate("maxZoomFactor",100)+1)/Math.LN10)+2),f=l.round(this.valueToFinalPosition(c),v),P=l.round(this.valueToFinalPosition(d),v);this.setPrivateRaw("selectionMinFinal",c),this.setPrivateRaw("selectionMaxFinal",d),this.setPrivateRaw("selectionStepFinal",x.step),this.zoom(f,P)}}_getMinMax(){let t=this.get("min"),e=this.get("max"),i=1/0,s=-1/0,a=this.get("extraMin",0),n=this.get("extraMax",0);this.get("logarithmic")&&(this.get("strictMinMax")||(null==this.get("extraMin")&&(a=.1),null==this.get("extraMax")&&(n=.2)));let h=1/0;if(o.each(this.series,(t=>{if(!t.get("ignoreMinMax")){let e,a;if(t.get("xAxis")===this?(e=t.getPrivate("minX"),a=t.getPrivate("maxX")):t.get("yAxis")===this&&(e=t.getPrivate("minY"),a=t.getPrivate("maxY")),r.isNumber(e)&&r.isNumber(a)){i=Math.min(i,e),s=Math.max(s,a);let t=a-e;t<=0&&(t=Math.abs(a/100)),t<h&&(h=t)}}})),this.axisRanges.each((t=>{if(t.get("affectsMinMax")){let e=t.get("value");null!=e&&(i=Math.min(i,e),s=Math.max(s,e)),e=t.get("endValue"),null!=e&&(i=Math.min(i,e),s=Math.max(s,e))}})),this.get("logarithmic")){let t=this.get("treatZeroAs");r.isNumber(t)&&i<=0&&(i=t),i<=0&&new Error("Logarithmic value axis can not have values <= 0.")}if(0===i&&0===s&&(s=.9,i=-.9),r.isNumber(t)&&(i=t),r.isNumber(e)&&(s=e),i===1/0||s===-1/0)return this.setPrivate("minFinal",void 0),void this.setPrivate("maxFinal",void 0);i>s&&([i,s]=[s,i]);const g=i,u=s;let c=this.adapters.fold("min",i),d=this.adapters.fold("max",s);this._minRealLog=i,r.isNumber(c)&&(i=c),r.isNumber(d)&&(s=d),i=this._fixMin(i),s=this._fixMax(s),s-i<=1/Math.pow(10,15)&&(s-i!=0?this._deltaMinMax=(s-i)/2:this._getDelta(s),i-=this._deltaMinMax,s+=this._deltaMinMax),i-=(s-i)*a,s+=(s-i)*n,this.get("logarithmic")&&(i<0&&g>=0&&(i=0),s>0&&u<=0&&(s=0)),this._minReal=i,this._maxReal=s;let m=this.get("strictMinMax"),p=this.get("strictMinMaxSelection",!1);p&&(m=p);let b=m;r.isNumber(e)&&(b=!0);let x=this.get("renderer").gridCount(),_=this._adjustMinMax(i,s,x,b);if(i=_.min,s=_.max,_=this._adjustMinMax(i,s,x,!0),i=_.min,s=_.max,m){i=r.isNumber(t)?t:this._minReal,s=r.isNumber(e)?e:this._maxReal,s-i<=1e-8&&(i-=this._deltaMinMax,s+=this._deltaMinMax);let o=s-i;i-=o*a,s+=o*n}c=this.adapters.fold("min",i),d=this.adapters.fold("max",s),r.isNumber(c)&&(i=c),r.isNumber(d)&&(s=d),h==1/0&&(h=s-i);let v=Math.round(Math.abs(Math.log(Math.abs(s-i))*Math.LOG10E))+5;i=l.round(i,v),s=l.round(s,v);const f=this.get("syncWithAxis");if(f&&(_=this._syncAxes(i,s,_.step,f.getPrivate("minFinal",f.getPrivate("min",0)),f.getPrivate("maxFinal",f.getPrivate("max",1)),f.getPrivate("step",1)),i=_.min,s=_.max),this.setPrivateRaw("maxZoomFactor",Math.max(1,Math.ceil((s-i)/h*this.get("maxZoomFactor",100)))),this._fixZoomFactor(),this.get("logarithmic")&&(this._minLogAdjusted=i,i=this._minReal,s=this._maxReal,i<=0&&(i=g*(1-Math.min(a,.99)))),r.isNumber(i)&&r.isNumber(s)&&(this.getPrivate("minFinal")!==i||this.getPrivate("maxFinal")!==s)){this.setPrivate("minFinal",i),this.setPrivate("maxFinal",s),this._saveMinMax(i,s);const t=this.get("interpolationDuration",0),e=this.get("interpolationEasing");this.animatePrivate({key:"min",to:i,duration:t,easing:e}),this.animatePrivate({key:"max",to:s,duration:t,easing:e})}}_fixZoomFactor(){}_getDelta(t){let e=Math.log(Math.abs(t))*Math.LOG10E,i=Math.pow(10,Math.floor(e));i/=10,this._deltaMinMax=i}_saveMinMax(t,e){}_adjustMinMax(t,e,i,s){i<=1&&(i=1),i=Math.round(i);let a=t,n=e,o=e-t;0===o&&(o=Math.abs(e));let h=Math.log(Math.abs(o))*Math.LOG10E,g=Math.pow(10,Math.floor(h));g/=10;let u=g;s&&(u=0),s?(t=Math.floor(t/g)*g,e=Math.ceil(e/g)*g):(t=Math.ceil(t/g)*g-u,e=Math.floor(e/g)*g+u),t<0&&a>=0&&(t=0),e>0&&n<=0&&(e=0),h=Math.log(Math.abs(o))*Math.LOG10E,g=Math.pow(10,Math.floor(h)),g/=100;let c=Math.ceil(o/i/g)*g,d=Math.pow(10,Math.floor(Math.log(Math.abs(c))*Math.LOG10E)),m=Math.ceil(c/d);m>5?m=10:m<=5&&m>2&&(m=5),c=Math.ceil(c/(d*m))*d*m;let p=this.get("maxPrecision");if(r.isNumber(p)){let t=l.ceil(c,p);p<Number.MAX_VALUE&&c!==t&&(c=t,0==c&&(c=1))}let b=0;d<1&&(b=Math.round(Math.abs(Math.log(Math.abs(d))*Math.LOG10E))+1,c=l.round(c,b));let x,_=Math.floor(t/c);return t=l.round(c*_,b),x=s?Math.floor(e/c):Math.ceil(e/c),x===_&&x++,(e=l.round(c*x,b))<n&&(e+=c),t>a&&(t-=c),c=this.fixSmallStep(c),{min:t,max:e,step:c}}getTooltipText(t,e){const i=this.get("tooltipNumberFormat",this.get("numberFormat")),s=this.getNumberFormatter(),a=this.get("extraTooltipPrecision",0),n=this.getPrivate("stepDecimalPlaces",0)+a,r=l.round(this.positionToValue(t),n);return i?s.format(r,i):s.format(r,void 0,n)}getSeriesItem(t,e){let i,s,a=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),n=this.positionToValue(e);if(o.each(t.dataItems,((t,e)=>{const r=Math.abs(t.get(a)-n);(void 0===i||r<s)&&(i=e,s=r)})),null!=i)return t.dataItems[i]}zoomToValues(t,e,i){const s=this.getPrivate("minFinal",0),a=this.getPrivate("maxFinal",0);null!=this.getPrivate("min")&&null!=this.getPrivate("max")&&this.zoom((t-s)/(a-s),(e-s)/(a-s),i)}_syncAxes(t,e,i,s,a,n){if(this.get("syncWithAxis")){let o=Math.round(a-s)/n,l=Math.round((e-t)/i),h=this.get("renderer").gridCount();if(r.isNumber(o)&&r.isNumber(l)){let s=!1,a=0,n=.01*(e-t),r=t,l=e,g=i;for(;1!=s;)if(s=this._checkSync(r,l,g,o),a++,a>500&&(s=!0),s)t=r,e=l,i=g;else{a/3==Math.round(a/3)?(r=t-n*a,t>=0&&r<0&&(r=0)):(l=e+n*a,l<=0&&l>0&&(l=0));let i=this._adjustMinMax(r,l,h,!0);r=i.min,l=i.max,g=i.step}}}return{min:t,max:e,step:i}}_checkSync(t,e,i,s){let a=(e-t)/i;for(let t=1;t<s;t++)if(l.round(a/t,1)==s||a*t==s)return!0;return!1}getCellWidthPosition(){let t=this.getPrivate("selectionMax",this.getPrivate("max")),e=this.getPrivate("selectionMin",this.getPrivate("min"));return r.isNumber(t)&&r.isNumber(e)?this.getPrivate("step",1)/(t-e):.05}nextPosition(t){null==t&&(t=1),"Y"==this.get("renderer").getPrivate("letter")&&(t*=-1);let e=this.positionToValue(this.getPrivate("tooltipPosition",0));return e+=this.getPrivate("step",1)*t,e=l.fitToRange(e,this.getPrivate("selectionMin",0),this.getPrivate("selectionMax",1)),this.toGlobalPosition(this.valueToPosition(e))}}Object.defineProperty(g,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ValueAxis"}),Object.defineProperty(g,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:a.R.classNames.concat([g.className])})},2976:function(t,e,i){i.d(e,{j:function(){return a}});var s=i(3497);class a extends s.c{_beforeChanged(){super._beforeChanged(),(this.isDirty("lowX0")||this.isDirty("lowY0")||this.isDirty("lowX1")||this.isDirty("lowY1")||this.isDirty("highX0")||this.isDirty("highX1")||this.isDirty("highY0")||this.isDirty("highY1"))&&(this._clear=!0)}_draw(){super._draw();const t=this._display;t.moveTo(this.get("lowX0",0),this.get("lowY0",0)),t.lineTo(this.get("lowX1",0),this.get("lowY1",0)),t.moveTo(this.get("highX0",0),this.get("highY0",0)),t.lineTo(this.get("highX1",0),this.get("highY1",0))}}Object.defineProperty(a,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Candlestick"}),Object.defineProperty(a,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s.c.classNames.concat([a.className])})},2312:function(t,e,i){i.d(e,{$:function(){return h}});var s=i(62),a=i(2976),n=i(5769),r=i(7144),o=i(7652),l=i(5071);class h extends s.d{constructor(){super(...arguments),Object.defineProperty(this,"columns",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new r.o(n.YS.new({themeTags:["autocolor"]}),(()=>a.j._new(this._root,{themeTags:o.mergeTags(this.columns.template.get("themeTags",[]),["candlestick","series","column"])},[this.columns.template]))))})}makeColumn(t,e){const i=this.mainContainer.children.push(e.make());return i._setDataItem(t),e.push(i),i}_updateGraphics(t,e){super._updateGraphics(t,e);const i=this.getRaw("xAxis"),s=this.getRaw("yAxis"),a=this.getRaw("baseAxis");let n,r,o,l,h,g,u,c,d,m=this.get("vcy",1),p=this.get("vcx",1),b=this.get("locationX",t.get("locationX",.5)),x=this.get("locationY",t.get("locationY",.5)),_=this.get("openLocationX",t.get("openLocationX",b)),v=this.get("openLocationY",t.get("openLocationY",x));if(s===a){let e=i.getDataItemPositionX(t,this._xOpenField,1,p),a=i.getDataItemPositionX(t,this._xField,1,p);r=i.getDataItemPositionX(t,this._xLowField,1,p),g=i.getDataItemPositionX(t,this._xHighField,1,p),h=Math.max(e,a),n=Math.min(e,a);let b=this._aLocationY0+v-.5,_=this._aLocationY1+x-.5;o=s.getDataItemPositionY(t,this._yField,b+(_-b)/2,m),l=o,u=o,c=o,d="horizontal"}else{let e=s.getDataItemPositionY(t,this._yOpenField,1,m),a=s.getDataItemPositionY(t,this._yField,1,m);l=s.getDataItemPositionY(t,this._yLowField,1,m),c=s.getDataItemPositionY(t,this._yHighField,1,m),u=Math.max(e,a),o=Math.min(e,a);let x=this._aLocationX0+_-.5,v=this._aLocationX1+b-.5;n=i.getDataItemPositionX(t,this._xField,x+(v-x)/2,p),r=n,h=n,g=n,d="vertical"}this._updateCandleGraphics(t,n,r,o,l,h,g,u,c,d)}_updateCandleGraphics(t,e,i,s,a,n,r,o,h,g){let u=t.get("graphics");if(u){let c=this.getPoint(e,s),d=this.getPoint(i,a),m=this.getPoint(n,o),p=this.getPoint(r,h),b=u.x(),x=u.y();u.set("lowX0",c.x-b),u.set("lowY0",c.y-x),u.set("lowX1",d.x-b),u.set("lowY1",d.y-x),u.set("highX0",m.x-b),u.set("highY0",m.y-x),u.set("highX1",p.x-b),u.set("highY1",p.y-x),u.set("orientation",g);let _=t.get("rangeGraphics");_&&l.each(_,(t=>{t.set("lowX0",c.x-b),t.set("lowY0",c.y-x),t.set("lowX1",d.x-b),t.set("lowY1",d.y-x),t.set("highX0",m.x-b),t.set("highY0",m.y-x),t.set("highX1",p.x-b),t.set("highY1",p.y-x),t.set("orientation",g)}))}}_processAxisRange(t){super._processAxisRange(t),t.columns=new r.o(n.YS.new({}),(()=>a.j._new(this._root,{themeTags:o.mergeTags(t.columns.template.get("themeTags",[]),["candlestick","series","column"])},[this.columns.template,t.columns.template])))}}Object.defineProperty(h,"className",{enumerable:!0,configurable:!0,writable:!0,value:"CandlestickSeries"}),Object.defineProperty(h,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s.d.classNames.concat([h.className])})},62:function(t,e,i){i.d(e,{d:function(){return l}});var s=i(757),a=i(5769),n=i(7144),r=i(3497),o=i(7652);class l extends s.d{constructor(){super(...arguments),Object.defineProperty(this,"columns",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new n.o(a.YS.new({}),(()=>r.c._new(this._root,{position:"absolute",themeTags:o.mergeTags(this.columns.template.get("themeTags",[]),["series","column"])},[this.columns.template]))))})}makeColumn(t,e){const i=this.mainContainer.children.push(e.make());return i._setDataItem(t),e.push(i),i}_processAxisRange(t){super._processAxisRange(t),t.columns=new n.o(a.YS.new({}),(()=>r.c._new(this._root,{position:"absolute",themeTags:o.mergeTags(t.columns.template.get("themeTags",[]),["series","column"])},[this.columns.template,t.columns.template])))}}Object.defineProperty(l,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ColumnSeries"}),Object.defineProperty(l,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s.d.classNames.concat([l.className])})},3405:function(t,e,i){i.r(e),i.d(e,{Axis:function(){return g.R},AxisBullet:function(){return y._},AxisLabel:function(){return D.k},AxisLabelRadial:function(){return M.p},AxisRenderer:function(){return T.Y},AxisRendererX:function(){return N.n},AxisRendererY:function(){return A.j},AxisTick:function(){return w.T},BaseColumnSeries:function(){return h.d},Candlestick:function(){return O.j},CandlestickSeries:function(){return F.$},CategoryAxis:function(){return b},CategoryDateAxis:function(){return _},ColumnSeries:function(){return S.d},DateAxis:function(){return v.S},DefaultTheme:function(){return q.l},DurationAxis:function(){return P},GaplessDateAxis:function(){return f.J},Grid:function(){return I.r},LineSeries:function(){return V.e},OHLC:function(){return L},OHLCSeries:function(){return j},SmoothedXLineSeries:function(){return E},SmoothedXYLineSeries:function(){return z},SmoothedYLineSeries:function(){return G},StepLineSeries:function(){return Z},ValueAxis:function(){return p.m},XYChart:function(){return s.z},XYChartScrollbar:function(){return o},XYCursor:function(){return l.L},XYSeries:function(){return C.o}});var s=i(6901),a=i(6001),n=i(1479),r=i(7652);class o extends a.L{constructor(){super(...arguments),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(s.z.new(this._root,{themeTags:["chart"],interactive:!1,interactiveChildren:!1,panX:!1,panY:!1,wheelX:"none",wheelY:"none"}))}),Object.defineProperty(this,"overlay",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(n.T.new(this._root,{themeTags:["overlay"],interactive:!1}))})}_afterNew(){this._addOrientationClass(),this._settings.themeTags=r.mergeTags(this._settings.themeTags,["scrollbar","xy","chart",this._settings.orientation]);const t=this.children;t.moveValue(this.thumb),t.moveValue(this.startGrip),t.moveValue(this.endGrip),this.thumb.set("opacity",0),this.thumb.states.create("hover",{opacity:.2});const e=this.chart.plotContainer;e.set("interactive",!1),e.remove("background"),e.children.removeValue(this.chart.zoomOutButton),super._afterNew()}_updateThumb(){super._updateThumb(),this.overlay.set("draw",(t=>{const e=this.startGrip,i=this.endGrip;let s=e.x(),a=e.y(),n=i.x(),r=i.y();const o=this.height(),l=this.width();s>n&&([s,n]=[n,s]),a>r&&([a,r]=[r,a]),"horizontal"===this.get("orientation")?(t.moveTo(0,0),t.lineTo(s,0),t.lineTo(s,o),t.lineTo(0,o),t.lineTo(0,0),t.moveTo(n,0),t.lineTo(l,0),t.lineTo(l,o),t.lineTo(n,o),t.lineTo(n,0)):(t.moveTo(0,0),t.lineTo(0,a),t.lineTo(l,a),t.lineTo(l,0),t.lineTo(0,0),t.moveTo(0,r),t.lineTo(0,o),t.lineTo(l,o),t.lineTo(l,r),t.lineTo(0,r))}))}}Object.defineProperty(o,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYChartScrollbar"}),Object.defineProperty(o,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:a.L.classNames.concat([o.className])});var l=i(3355),h=i(757),g=i(6515),u=i(5071),c=i(5040),d=i(751),m=i(2132),p=i(7261);class b extends g.R{constructor(){super(...arguments),Object.defineProperty(this,"_frequency",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_itemMap",{enumerable:!0,configurable:!0,writable:!0,value:{}})}_afterNew(){this._settings.themeTags=r.mergeTags(this._settings.themeTags,["axis"]),this.fields.push("category"),this.setPrivateRaw("name","category"),this.addTag("category"),super._afterNew()}_prepareChildren(){super._prepareChildren();const t=this.dataItems.length;let e=0;this._valuesDirty&&(this._itemMap={},u.each(this.dataItems,(t=>{t.setRaw("index",e),this._itemMap[t.get("category")]=t,e++})),this.setPrivateRaw("maxZoomFactor",t)),this.setPrivateRaw("startIndex",Math.max(Math.round(this.get("start",0)*t),0)),this.setPrivateRaw("endIndex",Math.min(Math.round(this.get("end",1)*t),t)),(this._sizeDirty||this._valuesDirty||this.isDirty("start")||this.isDirty("end")||this.isPrivateDirty("endIndex")||this.isPrivateDirty("startIndex")||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&this.dataItems.length>0&&(this._handleRangeChange(),this._prepareAxisItems(),this._updateAxisRanges())}_handleRangeChange(){u.each(this.series,(t=>{let e=this.dataItems[this.startIndex()].get("category"),i=this.dataItems[this.endIndex()-1].get("category"),s=t.get("baseAxis"),a=t.get("xAxis"),n=t.get("yAxis");if(a instanceof b&&n instanceof b)t._markDirtyAxes();else if(s===this){let r,o,l=n;if(a===s?(t.get("categoryXField")&&(r="categoryX"),t.get("openCategoryXField")&&(o="openCategoryX")):n===s&&(t.get("categoryYField")&&(r="categoryY"),t.get("openCategoryYField")&&(o="openCategoryY"),l=a),l instanceof p.m&&(r||o)){let s,a;for(let i=0,a=t.dataItems.length;i<a;i++){let a=t.dataItems[i];if(r&&a.get(r)===e){s=a;break}if(o&&a.get(o)===e){s=a;break}}for(let e=t.dataItems.length-1;e>=0;e--){let s=t.dataItems[e];if(r&&s.get(r)===i){a=s;break}if(o&&s.get(o)===i){a=s;break}}let n=0,l=t.dataItems.length;s&&(n=t.dataItems.indexOf(s)),a&&(l=t.dataItems.indexOf(a)+1),t.setPrivate("startIndex",n),t.setPrivate("endIndex",l);let h=!1;for(let e=n;e<l;e++){const i=t.dataItems[e];if(u.each(t.__valueXShowFields,(t=>{null!=i.get(t)&&(h=!0)})),u.each(t.__valueYShowFields,(t=>{null!=i.get(t)&&(h=!0)})),h)break}t.setPrivate("outOfSelection",!h)}t._markDirtyAxes()}}))}_prepareAxisItems(){var t;const e=this.get("renderer"),i=this.dataItems.length;let s=this.startIndex();s>0&&s--;let a=this.endIndex();a<i&&a++;const n=e.get("minorLabelsEnabled"),r=e.get("minorGridEnabled",n);let o=e.axisLength()/Math.max(e.get("minGridDistance"),1),l=Math.max(1,Math.min(i,Math.ceil((a-s)/o)));s=Math.floor(s/l)*l,this._frequency=l;for(let t=0;t<i;t++)this._toggleDataItem(this.dataItems[t],!1);let h=this.dataItems[s].get("index",0);for(let t=s;t<a;t+=l){let e=this.dataItems[t];this._createAssets(e,[]),this._toggleDataItem(e,!0);let i=l;r&&(i=1),this._prepareDataItem(e,h,i),h++}if(e.get("minorGridEnabled"))for(let e=s;e<a;e++){let i=this.dataItems[e];e%l!=0&&(this._createAssets(i,["minor"],!0),this._toggleDataItem(i,!0),this._prepareDataItem(i,0,1),n||null===(t=i.get("label"))||void 0===t||t.setPrivate("visible",!1))}this._updateGhost()}_prepareDataItem(t,e,i){let s=this.get("renderer"),a=t.get("categoryLocation",0),n=t.get("endCategoryLocation",1),r=t.get("index");c.isNumber(r)||(r=this.categoryToIndex(t.get("category")));let o,l=this.indexToPosition(r,a),h=t.get("endCategory");h?(o=this.categoryToIndex(h),c.isNumber(o)||(o=r)):o=r;let g,u,d=this.indexToPosition(o,n);g=t.get("isRange")?o:r+this._frequency-1,u=this.indexToPosition(g,n),s.updateLabel(t.get("label"),l,d,i),s.updateGrid(t.get("grid"),l,d),s.updateTick(t.get("tick"),l,d,i),s.updateFill(t.get("axisFill"),l,u),this._processBullet(t),s.updateBullet(t.get("bullet"),l,d);const m=this.get("fillRule");m&&m(t,e)}startIndex(){let t=this.dataItems.length;return Math.min(Math.max(this.getPrivate("startIndex",0),0),t-1)}endIndex(){let t=this.dataItems.length;return Math.max(1,Math.min(this.getPrivate("endIndex",t),t))}baseValue(){}basePosition(){return 0}getX(t){let e=this._itemMap[t];return e?this._settings.renderer.positionToCoordinate(this.indexToPosition(e.get("index",0))):NaN}getY(t){let e=this._itemMap[t];return e?this._settings.renderer.positionToCoordinate(this.indexToPosition(e.get("index",0))):NaN}getDataItemPositionX(t,e,i,s){const a=t.get(e),n=this._itemMap[a];return n?this.indexToPosition(n.get("index",0),i):NaN}getDataItemCoordinateX(t,e,i,s){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(t,e,i,s))}getDataItemPositionY(t,e,i,s){const a=t.get(e),n=this._itemMap[a];return n?this.indexToPosition(n.get("index",0),i):NaN}getDataItemCoordinateY(t,e,i,s){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(t,e,i,s))}indexToPosition(t,e){c.isNumber(e)||(e=.5);let i=this.dataItems.length,s=this.get("startLocation",0);i-=s,i-=1-this.get("endLocation",1);let a=(t+e-s)/i,n=this.dataItems[t];return n&&(a+=n.get("deltaPosition",0)),a}categoryToPosition(t){let e=this._itemMap[t];return e?this.indexToPosition(e.get("index")):NaN}categoryToIndex(t){let e=this._itemMap[t];return e?e.get("index"):NaN}dataItemToPosition(t){return this.indexToPosition(t.get("index"))}roundAxisPosition(t,e){return t+=(.5-e)/this.dataItems.length,this.indexToPosition(this.axisPositionToIndex(t),e)}axisPositionToIndex(t){let e=this.dataItems.length;return d.fitToRange(Math.floor(t*e),0,e-1)}getTooltipText(t,e){const i=this.dataItems[this.axisPositionToIndex(t)];if(i){const t=i.get("label");if(t)return(0,m.q)(t,this.get("tooltipText",""))}}_updateTooltipText(t,e){t._setDataItem(this.dataItems[this.axisPositionToIndex(e)]),t.label.text.markDirtyText()}getSeriesItem(t,e){if(this.dataItems.length>0){let i=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),s=this.axisPositionToIndex(e),a=t.dataItems[s],n=this.dataItems[s],r=n.get("category");if(a&&n&&a.get(i)===r)return a;for(let e=0,s=t.dataItems.length;e<s;e++){let s=t.dataItems[e];if(s.get(i)===r)return s}}}zoomToIndexes(t,e,i){let s=this.dataItems.length;this.zoom(t/s,e/s,i)}zoomToCategories(t,e,i){this.zoomToIndexes(this.categoryToIndex(t),this.categoryToIndex(e)+1,i)}getCellWidthPosition(){return this._frequency/this.dataItems.length/(this.get("end",1)-this.get("start",0))}nextPosition(t){null==t&&(t=1),"Y"==this.get("renderer").getPrivate("letter")&&(t*=-1);const e=this.getPrivate("tooltipPosition",0),i=d.fitToRange(this.axisPositionToIndex(e)+t,0,this.dataItems.length-1);return this.toGlobalPosition(this.indexToPosition(i))}}Object.defineProperty(b,"className",{enumerable:!0,configurable:!0,writable:!0,value:"CategoryAxis"}),Object.defineProperty(b,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:g.R.classNames.concat([b.className])});var x=i(1926);class _ extends b{constructor(){super(...arguments),Object.defineProperty(this,"_frequency",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_itemMap",{enumerable:!0,configurable:!0,writable:!0,value:{}})}_afterNew(){this._settings.themeTags=r.mergeTags(this._settings.themeTags,["axis"]),this.fields.push("category"),super._afterNew()}_prepareAxisItems(){this.setPrivateRaw("baseInterval",this.get("baseInterval"));const t=this.get("renderer"),e=this.dataItems.length;let i=this.startIndex();i>0&&i--;let s=this.endIndex();s<e&&s++;let a=t.axisLength()/Math.max(t.get("minGridDistance"),1/Number.MAX_SAFE_INTEGER),n=Math.min(e,Math.ceil((s-i)/a));i=Math.floor(i/n)*n,this._frequency=n;for(let t=0;t<e;t++)this._toggleDataItem(this.dataItems[t],!1);let r=Number(this.dataItems[i].get("category")),o=Number(this.dataItems[s-1].get("category")),l=o-r;s-i<a&&(l=o-r-((o-r)/this.baseDuration()-(s-i))*this.baseDuration());let h=x.chooseInterval(0,l,a,this.get("gridIntervals"));const g=x.getNextUnit(h.timeUnit),d=this.getPrivate("baseInterval");x.getIntervalDuration(h)<this.baseDuration()&&(h=Object.assign({},d));const m=this.get("dateFormats");let p,b=-1/0,_=-1/0,v=-1/0,f=[],P=!1;for(let t=i;t<s;t++){let e=this.dataItems[t],i=e.get("index"),s=!1,a=Number(e.get("category")),r=new Date(a),o=x.getUnitValue(r,h.timeUnit);p=m[h.timeUnit];let l=!1;"year"!=h.timeUnit&&"week"!=h.timeUnit&&g&&this.get("markUnitChange")&&c.isNumber(b)&&x.checkChange(a,b,g,this._root.utc)&&(p=this.get("periodChangeDateFormats")[h.timeUnit],i-.5*n<_&&f.pop(),f.push({format:p,dataItem:e}),P=!0,l=!0,_=i,v=o);let u=!1;"day"===h.timeUnit||"week"===h.timeUnit?i-_>=n&&(u=!0):o%h.count==0&&o!=v&&(u=!0),!l&&u&&(i-.7*n<_&&P&&(s=!0),s||(f.push({format:p,dataItem:e}),_=i,v=o),P=!1),b=a}if(f.length>0){let t=f[0].dataItem.get("index",0);u.each(f,(e=>{const i=e.dataItem,s=e.format;this._createAssets(i,[]),this._toggleDataItem(i,!0);let a=Number(i.get("category")),r=new Date(a);const o=i.get("label");o&&o.set("text",this._root.dateFormatter.format(r,s)),t++,this._prepareDataItem(i,t,n)}))}}baseDuration(){return x.getIntervalDuration(this.getPrivate("baseInterval"))}getTooltipText(t,e){let i=this.dataItems[this.axisPositionToIndex(t)];if(i){let t=this.get("dateFormats")[this.getPrivate("baseInterval").timeUnit];return this._root.dateFormatter.format(new Date(i.get("category",0)),this.get("tooltipDateFormat",t))}}_updateTooltipText(t,e){t.label.set("text",this.getTooltipText(e))}}Object.defineProperty(_,"className",{enumerable:!0,configurable:!0,writable:!0,value:"CategoryDateAxis"}),Object.defineProperty(_,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:b.classNames.concat([_.className])});var v=i(5638),f=i(8701);class P extends p.m{constructor(){super(...arguments),Object.defineProperty(this,"_dataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_groupingCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_intervalDuration",{enumerable:!0,configurable:!0,writable:!0,value:1})}_afterNew(){this._settings.themeTags=r.mergeTags(this._settings.themeTags,["axis"]),super._afterNew()}_adjustMinMax(t,e,i,s){let a;const n=this.getDurationFormatter(),r=this.get("baseUnit");if(this.setRaw("maxPrecision",0),"millisecond"==r||"second"==r||"minute"==r||"hour"==r){i<=1&&(i=1),i=Math.round(i);let s=e-t;0===s&&(s=Math.abs(e));let n=s/i,o=[60,30,20,15,10,2,1],l=1;"hour"==r&&(o=[24,12,6,4,2,1]);for(let t of o)if(s/t>i){l=t;break}let h=Math.ceil((e-t)/l/i),g=Math.log(Math.abs(h))*Math.LOG10E,u=Math.pow(10,Math.floor(g))/10,c=h/u;h=d.closest(o,c)*u,n=l*h,a={min:t=Math.floor(t/n)*n,max:e=Math.ceil(e/n)*n,step:n}}else a=super._adjustMinMax(t,e,i,s);return this.setPrivateRaw("durationFormat",n.getFormat(a.step,a.max,r)),a}_formatText(t){return this.getDurationFormatter().format(t,this.getPrivate("durationFormat"),this.get("baseUnit"))}getTooltipText(t,e){const i=this.getDurationFormatter(),s=this.get("extraTooltipPrecision",0),a=this.getPrivate("stepDecimalPlaces",0)+s,n=d.round(this.positionToValue(t),a);return i.format(n,this.getPrivate("durationFormat"),this.get("baseUnit"))}}Object.defineProperty(P,"className",{enumerable:!0,configurable:!0,writable:!0,value:"DurationAxis"}),Object.defineProperty(P,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:p.m.classNames.concat([P.className])});var y=i(2586),D=i(6293),M=i(9084),w=i(4714),I=i(8943),T=i(6275),N=i(6284),A=i(7909),C=i(4604),O=i(2976),F=i(2312);class L extends O.j{_draw(){const t=this._display;t.moveTo(this.get("lowX1",0),this.get("lowY1",0)),t.lineTo(this.get("highX1",0),this.get("highY1",0));let e=this.width(),i=this.height();if("vertical"==this.get("orientation")){let s=i,a=0;t.moveTo(0,s),t.lineTo(e/2,s),t.moveTo(e/2,a),t.lineTo(e,a)}else{let s=0,a=e;t.moveTo(s,0),t.lineTo(s,i/2),t.moveTo(a,i/2),t.lineTo(a,i)}}}Object.defineProperty(L,"className",{enumerable:!0,configurable:!0,writable:!0,value:"OHLC"}),Object.defineProperty(L,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:O.j.classNames.concat([L.className])});var R=i(5769),k=i(7144);class j extends F.${constructor(){super(...arguments),Object.defineProperty(this,"columns",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new k.o(R.YS.new({themeTags:["autocolor"]}),(()=>L._new(this._root,{themeTags:r.mergeTags(this.columns.template.get("themeTags",[]),["ohlc","series","column"])},[this.columns.template]))))})}makeColumn(t,e){const i=this.mainContainer.children.push(e.make());return i._setDataItem(t),e.push(i),i}_processAxisRange(t){super._processAxisRange(t),t.columns=new k.o(R.YS.new({}),(()=>L._new(this._root,{themeTags:r.mergeTags(t.columns.template.get("themeTags",[]),["ohlc","series","column"])},[this.columns.template,t.columns.template])))}}Object.defineProperty(j,"className",{enumerable:!0,configurable:!0,writable:!0,value:"OHLCSeries"}),Object.defineProperty(j,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:F.$.classNames.concat([j.className])});var S=i(62),V=i(2338),Y=i(5892);class G extends V.e{_afterNew(){this._setDefault("curveFactory",(0,Y.$)(this.get("tension",.5))),super._afterNew()}_updateChildren(){this.isDirty("tension")&&(this.set("curveFactory",(0,Y.$)(this.get("tension",.5))),this._valuesDirty=!0),super._updateChildren()}}Object.defineProperty(G,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SmoothedYLineSeries"}),Object.defineProperty(G,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:V.e.classNames.concat([G.className])});var X=i(8289);class E extends V.e{_afterNew(){this._setDefault("curveFactory",(0,X.G)(this.get("tension",.5))),super._afterNew()}_updateChildren(){this.isDirty("tension")&&(this.set("curveFactory",(0,X.G)(this.get("tension",.5))),this._valuesDirty=!0),super._updateChildren()}}Object.defineProperty(E,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SmoothedXLineSeries"}),Object.defineProperty(E,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:V.e.classNames.concat([E.className])});var U=i(2818);class z extends V.e{_afterNew(){this._setDefault("curveFactory",U.ZP.tension(this.get("tension",.5))),super._afterNew()}_updateChildren(){this.isDirty("tension")&&(this.set("curveFactory",U.ZP.tension(this.get("tension",.5))),this._valuesDirty=!0),super._updateChildren()}}Object.defineProperty(z,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SmoothedXYLineSeries"}),Object.defineProperty(z,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:V.e.classNames.concat([z.className])});var H=i(6245);function B(t,e){this._context=t,this._t=e}function W(t){return new B(t,1)}B.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var i=this._x*(1-this._t)+t*this._t;this._context.lineTo(i,this._y),this._context.lineTo(i,e)}}this._x=t,this._y=e}};class Z extends V.e{_afterNew(){this._setDefault("curveFactory",W),super._afterNew()}_getPoints(t,e){let i=e.points,s=this.get("stepWidth",H.AQ).value/2,a=t.get("locationX",e.locationX),n=t.get("locationY",e.locationY),r=a,o=n;e.baseAxis===e.xAxis?(a-=s,r+=s):e.baseAxis===e.yAxis&&(n-=s,o+=s);let l=e.xAxis.getDataItemPositionX(t,e.xField,a,e.vcx),h=e.yAxis.getDataItemPositionY(t,e.yField,n,e.vcy),g=e.xAxis.getDataItemPositionX(t,e.xField,r,e.vcx),u=e.yAxis.getDataItemPositionY(t,e.yField,o,e.vcy);if(this._shouldInclude(l)){const c=this.getPoint(l,h),d=[c.x,c.y],m=this.getPoint(g,u),p=[m.x,m.y];if(e.fillVisible){let i=l,c=h,m=g,b=u;if(e.baseAxis===e.xAxis?(c=e.basePosY,b=e.basePosY):e.baseAxis===e.yAxis&&(i=e.basePosX,m=e.basePosX),e.getOpen){let l=t.get(e.xOpenField),h=t.get(e.yOpenField);if(null!=l&&null!=h)if(a=t.get("openLocationX",e.openLocationX),n=t.get("openLocationY",e.openLocationY),r=a,o=n,e.baseAxis===e.xAxis?(a-=s,r+=s):e.baseAxis===e.yAxis&&(n-=s,o+=s),e.stacked){let s=t.get("stackToItemX"),l=t.get("stackToItemY");s?(i=e.xAxis.getDataItemPositionX(s,e.xField,a,s.component.get("vcx")),m=e.xAxis.getDataItemPositionX(s,e.xField,r,s.component.get("vcx"))):e.yAxis===e.baseAxis?(i=e.basePosX,m=e.basePosX):e.baseAxis===e.yAxis&&(i=e.xAxis.getDataItemPositionX(t,e.xOpenField,a,e.vcx),m=e.xAxis.getDataItemPositionX(t,e.xOpenField,r,e.vcx)),l?(c=e.yAxis.getDataItemPositionY(l,e.yField,n,l.component.get("vcy")),b=e.yAxis.getDataItemPositionY(l,e.yField,o,l.component.get("vcy"))):e.xAxis===e.baseAxis?(c=e.basePosY,b=e.basePosY):e.baseAxis===e.yAxis&&(c=e.yAxis.getDataItemPositionY(t,e.yOpenField,n,e.vcy),b=e.yAxis.getDataItemPositionY(t,e.yOpenField,o,e.vcy))}else i=e.xAxis.getDataItemPositionX(t,e.xOpenField,a,e.vcx),c=e.yAxis.getDataItemPositionY(t,e.yOpenField,n,e.vcy),m=e.xAxis.getDataItemPositionX(t,e.xOpenField,r,e.vcx),b=e.yAxis.getDataItemPositionY(t,e.yOpenField,o,e.vcy)}let x=this.getPoint(i,c),_=this.getPoint(m,b);d[2]=x.x,d[3]=x.y,p[2]=_.x,p[3]=_.y}i.push(d),i.push(p),t.set("point",{x:d[0]+(p[0]-d[0])/2,y:d[1]+(p[1]-d[1])/2})}this.get("noRisers")&&(e.points=[],e.segments.push(i))}}Object.defineProperty(Z,"className",{enumerable:!0,configurable:!0,writable:!0,value:"StepLineSeries"}),Object.defineProperty(Z,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:V.e.classNames.concat([Z.className])});var q=i(55)},7825:function(t,e,i){i.r(e),i.d(e,{am5xy:function(){return s}});const s=i(3405)},2818:function(t,e,i){function s(t,e,i){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-i),t._x2,t._y2)}function a(t,e){this._context=t,this._k=(1-e)/6}i.d(e,{xm:function(){return s}}),a.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:s(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:s(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},e.ZP=function t(e){function i(t){return new a(t,e)}return i.tension=function(e){return t(+e)},i}(0)}},function(t){var e=(7825,t(t.s=7825)),i=window;for(var s in e)i[s]=e[s];e.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})}]);
//# sourceMappingURL=xy.js.map